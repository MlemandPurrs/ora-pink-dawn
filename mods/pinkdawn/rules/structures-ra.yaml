FAC2:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Inherits@BOTI: ^BotFallbackInsurance
	WithColoredOverlay@Invulnerability:
		RequiresCondition: invulnerability-crate-collected
        Color: 800000A3
	DamageMultiplier@Invulnerability:
		RequiresCondition: invulnerability-crate-collected
		Modifier: 0
	TimedConditionBar@Invulnerability:
		Condition: invulnerability-crate-collected
	ExternalCondition@Invulnerability:
		Condition: invulnerability-crate-collected
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability-crate-collected
	HitShape:
		TargetableOffsets: 1273,939,0, -980,-640,0, -980,640,0
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536
	Selectable:
		Bounds: 3072, 3072
	Valued:
		Cost: 2500
	Tooltip:
		Name: Construction Yard
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c512
	Production:
		Produces: Building.Allies, Building.Soviet, Defense.Allies, Defense.Soviet, Defense.Allies2
        PauseOnCondition: build-incomplete || emp-affected-structure
	Transforms:
		RequiresCondition: factundeploy
		PauseOnCondition: being-demolished || build-incomplete || emp-affected-structure || cant-undeploy
		IntoActor: mcv2
		Offset: 1,1
		Facing: 384
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: tracked-crusher
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix, fix2
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	GrantConditionOnDamageState@undeploy:
		Condition: cant-undeploy
		ValidDamageStates: Heavy, Critical
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	ProductionQueue@AlliesBuilding:
		Type: Building.Allies
		DisplayOrder: 0
		Factions: allies, alliesa, alliesb, alliesc
		Group: Building
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		ReadyTextNotification: Construction complete.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@SovietBuilding:
		Type: Building.Soviet
		DisplayOrder: 0
		Factions: soviet, sovieta, sovietb, sovietc
		Group: Building
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		ReadyTextNotification: Construction complete.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@AlliesDefense:
		Type: Defense.Allies
		DisplayOrder: 1
		Factions: allies, alliesa, alliesb, alliesc
		Group: Defense
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		ReadyTextNotification: Construction complete.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@SovietDefense:
		Type: Defense.Soviet
		DisplayOrder: 1
		Factions: soviet, sovieta, sovietb, sovietc
		Group: Defense
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		ReadyTextNotification: Construction complete.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@AlliesFake:
		Type: Defense.Allies2
		DisplayOrder: 2
		Factions: allies, alliesa
		Group: Defense
		LowPowerModifier: 150
		ReadyAudio: ConstructionComplete
		ReadyTextNotification: Construction complete.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	BaseBuilding:
	ProductionBar@BuildingAllies:
		ProductionType: Building.Allies
	ProductionBar@BuildingSoviet:
		ProductionType: Building.Soviet
	ProductionBar@DefenseAllies:
		ProductionType: Defense.Allies
		Color: 8A8A8A
	ProductionBar@DefenseSoviet:
		ProductionType: Defense.Soviet
		Color: 8A8A8A
	ProductionBar@AlliesFake:
		ProductionType: Defense.Allies2
		Color: 8A8A8A
	#   BaseProvider:
	#	Range: 14c0
	WithBuildingBib:
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: 30
        RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@3fld:
		Prerequisite: building.3fld
		Factions: gdia, soviet, sovieta, sovietb, sovietc, bossnod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@gap:
		Prerequisite: building.gap
		Factions: allies, alliesc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@tsla:
		Prerequisite: building.tsla
		Factions: soviet, sovieta
        ResetOnOwnerChange: true
	ProvidesPrerequisite@ftwr:
		Prerequisite: building.ftwr
		Factions: soviet, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@gun2:
		Prerequisite: building.gun2
		Factions: alliesc
        ResetOnOwnerChange: true
    ProvidesPrerequisite@atek:
        Prerequisite: discount.atek
        Factions: alliesa
        ResetOnOwnerChange: true
    ProvidesPrerequisite@mslo:
        Prerequisite: discount.mslo
        Factions: sovietc
        ResetOnOwnerChange: true
	Buildable:
        BuildDuration: 3900
        BuildDurationModifier: 100
		BuildPaletteOrder: 11
		Prerequisites: anytier3, fix2, ~techlevel.6
		Queue: Building.Allies, Building.Soviet
		Description: Builds Structures and Defenses.
	ProductionCostMultiplier@EXPENSIVEMCV:
		Multiplier: 200
		Prerequisites: global-expensivemcv
	ProductionTimeMultiplier@EXPENSIVEMCV:
		Multiplier: 200
		Prerequisites: global-expensivemcv
    AcceptsDeliveredCash:
	SpawnActorsOnSell:
		ActorTypes: e6,tecn,tecn,tecn,e1,e1
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	DamageMultiplier@IsConyard:
		Modifier: 90
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-5
	GrantConditionOnBotOwner@botinsurance:
		Condition: bot-insurance-enabler
		Bots: normalai
	SpawnActorOnDeath@HUSK:
		Actor: FAC2.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

POWR:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Valued:
		Cost: 300
	Tooltip:
		Name: Power Plant
	ProvidesPrerequisite:
		Prerequisite: anypower
	Buildable:
		BuildDuration: 600
        BuildDurationModifier: 100
		BuildPaletteOrder: 3
		Prerequisites: fac2
		Queue: Building.Allies, Building.Soviet
		Description: Generates a standard amount of power.
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	RevealsShroud:
		Range: 2c512
	WithBuildingBib:
	Power:
		Amount: 100
        RequiresCondition: !build-incomplete && !emp-affected-structure && !power-outage
    PowerMultiplier@gdib:
        Modifier: 150
        RequiresCondition: owner.is.gdib
    GrantConditionOnFaction@gdib:
		Condition: owner.is.gdib
		Factions: gdib
		ResetOnOwnerChange: True
	ScalePowerWithHealth:
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	AffectedByPowerOutage:
		Condition: power-outage
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, SpyInfiltrate2
        Duration: 750
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate, SpyInfiltrate2
	WithDecoration@PowerOutage:
		Image: nopower
		Palette: chrome
		Sequence: powerdown-blocked
		Position: Center
		BlinkInterval: 15
		BlinkPattern: on, off
		RequiresCondition: power-outage
		RequiresSelection: False
		ValidRelationships: Ally, Neutral, Enemy
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-1
	SpawnActorOnDeath@HUSK:
		Actor: POWR.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

APWR:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 3072, 2048
        DecorationBounds: 3072, 2901, 0, -426
	HitShape:
		TargetableOffsets: -355,-1024,0
	Valued:
		Cost: 500
	Tooltip:
		Name: Advanced Power Plant
	ProvidesPrerequisite:
		Prerequisite: anypower
	Buildable:
		BuildDuration: 1200
        BuildDurationModifier: 100
		BuildPaletteOrder: 7
		Prerequisites: anyhq, ~techlevel.5
		Queue: Building.Allies, Building.Soviet
		Description: Provides more power, cheaper than keep\nbuilding the standard Power Plant.
	Building:
		Footprint: XxX xXx
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	RevealsShroud:
		Range: 2c512
	WithBuildingBib:
	Power:
		Amount: 200
        RequiresCondition: !build-incomplete && !emp-affected-structure && !power-outage
    PowerMultiplier@gdib:
        Modifier: 150
        RequiresCondition: owner.is.gdib
    GrantConditionOnFaction@gdib:
		Condition: owner.is.gdib
		Factions: gdib
		ResetOnOwnerChange: True
	ScalePowerWithHealth:
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	AffectedByPowerOutage:
		Condition: power-outage
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, SpyInfiltrate2
        Duration: 750
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate, SpyInfiltrate2
	WithDecoration@PowerOutage:
		Image: nopower
		Palette: chrome
		Sequence: powerdown-blocked
		Position: Center
		BlinkInterval: 15
		BlinkPattern: on, off
		RequiresCondition: power-outage
		RequiresSelection: False
		ValidRelationships: Ally, Neutral, Enemy
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-1
	SpawnActorOnDeath@HUSK:
		Actor: APWR.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

OREF:
	Inherits: ^BaseBuilding
	Inherits@RESOURCES: ^StoresResources
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 3072, 2133, 0, 170
		DecorationBounds: 3072, 2986, 0, -85
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 598
	HitShape@TOP:
		TargetableOffsets: 1680,0,0
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	HitShape@BOTTOMLEFT:
		TargetableOffsets: -1260,-1024,0
		Type: Rectangle
			TopLeft: -1536, 598
			BottomRight: -512, 1280
	Valued:
		Cost: 1500
	Tooltip:
		Name: Ore Refinery
		GenericName: Refinery
        GenericStancePrefix: false
        GenericVisibility: Ally, Neutral, Enemy
	Buildable:
        BuildDuration: 2100
        BuildDurationModifier: 100
		BuildPaletteOrder: 0
		Prerequisites: fac2
		Queue: Building.Allies, Building.Soviet
		Description: Processes valuable minerals\ninto useable resources.
	Building:
		Footprint: _X_ xxx X== ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 70000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c512
	Refinery:
		DockAngle: 256
		DockOffset: 1,2
		TickRate: 15
		DiscardExcessResources: True
	StoresResources:
		Capacity: 1500
	FreeActor@Allies:
		Actor: OHRV
		SpawnOffset: 1,2
		Facing: 256
        RequiresCondition: !build-incomplete && owner.is.allies
	FreeActor@Soviet:
		Actor: AHRV
		SpawnOffset: 1,2
		Facing: 256
        RequiresCondition: !build-incomplete && owner.is.soviet
	GrantConditionOnFaction@Soviet:
		Condition: owner.is.soviet
		Factions: soviet, sovieta, sovietb, sovietc
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Allies:
		Condition: owner.is.allies
		Factions: allies, alliesa, alliesb, alliesc
		ResetOnOwnerChange: True
	WithBuildingBib:
	Power:
		Amount: -30
        RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	ExternalCondition@DOCKED:
		Condition: dockinprocess
		SourceCap: 1
		TotalCap: 1
	ProximityExternalCondition@DOCKED:
		Condition: docked
		Range: 1c0
		ValidRelationships: Ally
	CustomSellValue:
		Value: 300
	Sellable:
        RefundPercent: 100
		RequiresCondition: !build-incomplete && !being-captured && !being-demolished && !dockinprocess && !emp-affected-structure
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	InfiltrateForCash:
		Percentage: 50
		Types: ThiefInfiltrate
		InfiltratedNotification: CreditsStolen
		InfiltratedTextNotification: Credits stolen.
	Targetable@Infiltration:
        TargetTypes: ThiefInfiltrate
	ProvidesPrerequisite:
		Prerequisite: anyproc
    ResourceValueMultiplier@AIBoost:
        Modifier: 120
        RequiresCondition: ai-income-boost
	GrantConditionOnBotOwner@AIBoost:
		Condition: ai-income-boost
		Bots: normalai
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-3
	SpawnActorOnDeath@HUSK:
		Actor: OREF.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

OREF.Clone:
    Inherits: OREF
	Buildable:
		BuildPaletteOrder: 0
		Queue: Defense.Allies, Defense.Soviet
		Prerequisites: fac2, ~techlevel.2
	ProvidesPrerequisite@ISACOPY:
        Prerequisite: oref
	RenderSprites:
		Image: oref
    -MapEditorData:

OSIL:
	Inherits: ^BaseBuilding
	Inherits@RESOURCES: ^StoresResources
    Inherits@EMPMechanic: ^EMPApplicableStructure
	-GivesBuildableArea:
	-WithSpriteBody:
	-SpawnActorsOnSell:
	Armor:
		Type: Light
	Valued:
		Cost: 150
	Tooltip:
		Name: Ore Silo
		GenericName: Silo
        GenericStancePrefix: false
        GenericVisibility: Ally, Neutral, Enemy
	Buildable:
		BuildDuration: 300
        BuildDurationModifier: 100
		BuildPaletteOrder: 4
		Prerequisites: oref, ~techlevel.2
		Queue: Building.Allies, Building.Soviet
		Description: Stores processed Ore and Gems.
	Building:
		Footprint: x
		Dimensions: 1,1
	Health:
		HP: 30000
	RevealsShroud:
		Range: 2c512
	WithBuildingBib:
		HasMinibib: true
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		Capacity: 1000
	Power:
		Amount: -10
        RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	Selectable:
		Bounds: 1024, 1024
		DecorationBounds: 1280, 1280
	CashTrickler:
		Interval: 300
		InitialDelay: 300
		Amount: 200
		UseResourceStorage: true
		PauseOnCondition: lowpower || build-incomplete || emp-affected-structure
        RequiresCondition: infiniteincome-enabled
	CashTricklerBar:
		Color: FFFF9E
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
    GrantConditionOnPrerequisite@PassiveIncome:
        Condition: infiniteincome-enabled
        Prerequisites: global-infiniteincome
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 5
		FullSequence: pip-yellow
    CashTricklerMultiplier@AIBoost:
        Modifier: 120
        RequiresCondition: ai-income-boost && infiniteincome-enabled
	GrantConditionOnBotOwner@AIBoost:
		Condition: ai-income-boost
		Bots: normalai
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-1
	SpawnActorOnDeath@HUSK:
		Actor: OSIL.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

OSIL.Clone:
    Inherits: OSIL
	Buildable:
		BuildPaletteOrder: 4
		Queue: Defense.Allies, Defense.Soviet
	ProvidesPrerequisite@ISACOPY:
        Prerequisite: osil
	RenderSprites:
		Image: osil
    -MapEditorData:

TENT:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 2048, 1792, 0, -213
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Valued:
		Cost: 300
	Tooltip:
		Name: Allies Barracks
        GenericStancePrefix: false
        GenericName: Barracks
        GenericVisibility: Ally, Neutral, Enemy
	ProvidesPrerequisite:
		Prerequisite: infantryproduction
	Buildable:
		BuildDuration: 600
        BuildDurationModifier: 100
		BuildPaletteOrder: 1
        Prerequisites: fac2
		Queue: Building.Allies
		Description: Trains Infantry units.\nNearby infantry can heal.
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	RevealsShroud:
		Range: 3c512
	WithBuildingBib:
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	Exit@1:
		SpawnOffset: -42,810,0
		ExitCell: 1,2
	Exit@2:
		SpawnOffset: -725,640,0
		ExitCell: 0,2
	Production:
		Produces: Infantry
        PauseOnCondition: build-incomplete || emp-affected-structure
	ProductionQueue:
		Type: Infantry
		DisplayOrder: 2
		Group: Infantry
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
        Sticky: false
	ProductionBar:
		ProductionType: Infantry
	GrantExternalConditionToProduced:
		Condition: produced
	Power:
		Amount: -15
        RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Prerequisite: infantry.allies
		Factions: allies, alliesa, alliesb, alliesc
        ResetOnOwnerChange: true
 	ProvidesPrerequisite@alliesa:
		Prerequisite: infantry.spyupg
		Factions: alliesa
        ResetOnOwnerChange: true
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	ProximityExternalCondition@barracksheal:
		Condition: barracks
		ValidRelationships: Ally
		Range: 2c512
	WithRangeCircle:
		Range: 2c512
        RequiresCondition: !build-incomplete
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-1
	SpawnActorOnDeath@HUSK:
		Actor: TENT.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

BARR:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 2048, 1792, 0, -213
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 490,-470,0, 355,512,0, -355,-512,0, -630,512,0
	Valued:
		Cost: 300
	Tooltip:
		Name: Soviet Barracks
        GenericStancePrefix: false
        GenericName: Barracks
        GenericVisibility: Ally, Neutral, Enemy
	ProvidesPrerequisite:
		Prerequisite: infantryproduction
	Buildable:
		BuildDuration: 600
        BuildDurationModifier: 100
		BuildPaletteOrder: 1
        Prerequisites: fac2
		Queue: Building.Soviet
		Description: Trains Infantry units.
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	RevealsShroud:
		Range: 3c512
	WithBuildingBib:
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	Exit@1:
		SpawnOffset: -170,810,0
		ExitCell: 1,2
	Exit@2:
		SpawnOffset: -725,640,0
		ExitCell: 0,2
	Production:
		Produces: Infantry
        PauseOnCondition: build-incomplete || emp-affected-structure
	ProductionQueue:
		Type: Infantry
		DisplayOrder: 2
		Group: Infantry
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
        Sticky: false
	ProductionBar:
		ProductionType: Infantry
	GrantExternalConditionToProduced:
		Condition: produced
	Power:
		Amount: -15
        RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@soviet:
		Prerequisite: infantry.soviet
		Factions: soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@e2:
		Prerequisite: infantry.e2
		Factions: gdi, gdia, gdib, gdic, soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@e8:
		Prerequisite: infantry.e8
		Factions: soviet, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@shok:
		Prerequisite: infantry.shok
		Factions: soviet, sovieta
        ResetOnOwnerChange: true
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-1
	SpawnActorOnDeath@HUSK:
		Actor: BARR.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

WARF:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 3072, 2048
	Valued:
		Cost: 2000
	Tooltip:
		Name: War Factory
	ProvidesPrerequisite:
		Prerequisite: vehicleproduction
	Buildable:
    	BuildDuration: 3300
        BuildDurationModifier: 100
		BuildPaletteOrder: 5
		Prerequisites: anypower, infantryproduction, ~techlevel.2
		Queue: Building.Allies, Building.Soviet
		Description: Produces vehicles
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	WithProductionDoorOverlay:
		RequiresCondition: !build-incomplete
		Sequence: build-top
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 213,-128,0
		ExitCell: 1,2
		ExitDelay: 3
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 213,-128,0
		ExitCell: 0,2
		ExitDelay: 3
	Production:
		Produces: Vehicle
        PauseOnCondition: build-incomplete || emp-affected-structure
	ProductionQueue:
		Type: Vehicle
		DisplayOrder: 3
		Group: Vehicle
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
        Sticky: false
	ProductionBar:
		ProductionType: Vehicle
	Power:
		Amount: -40
        RequiresCondition: !build-incomplete || emp-affected-structure
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Prerequisite: vehicle.allies
		Factions: allies, alliesa, alliesb, alliesc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@soviet:
		Prerequisite: vehicle.soviet
		Factions: soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@mcv2:
		Prerequisite: vehicle.mcv2
		Factions: allies, alliesa, alliesb, alliesc, soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@ohrv:
		Prerequisite: vehicle.ohrv
		Factions: allies, alliesa, alliesb, alliesc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@ahrv:
		Prerequisite: vehicle.ahrv
		Factions: soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@apc:
		Prerequisite: vehicle.apc
		Factions: gdi, gdia, gdib, gdic, nod, noda, nodb, nodc, allies, alliesa, alliesb, alliesc, bossnod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@apc2:
		Prerequisite: vehicle.apc2
		Factions: soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@arty:
		Prerequisite: vehicle.arty
		Factions: nod, noda, nodb, nodc, allies, alliesa, alliesb, alliesc, bossnod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@dtrk:
		Prerequisite: vehicle.dtrk
		Factions: allies, alliesa, alliesb, alliesc, soviet
        ResetOnOwnerChange: true
	ProvidesPrerequisite@tnkd:
		Prerequisite: vehicle.tnkd
		Factions: alliesb
        ResetOnOwnerChange: true
	ProvidesPrerequisite@mgg:
		Prerequisite: vehicle.mgg
		Factions: allies, alliesc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@ctnk:
		Prerequisite: vehicle.ctnk
		Factions: allies, alliesb
        ResetOnOwnerChange: true
	ProvidesPrerequisite@apc3:
		Prerequisite: vehicle.apc3
		Factions: allies, alliesa
        ResetOnOwnerChange: true
	ProvidesPrerequisite@ttnk:
		Prerequisite: vehicle.ttnk
		Factions: soviet, sovieta
        ResetOnOwnerChange: true
	ProvidesPrerequisite@qtnk:
		Prerequisite: vehicle.qtnk
		Factions: sovietb
        ResetOnOwnerChange: true
	ProvidesPrerequisite@4tnf:
		Prerequisite: vehicle.4tnf
		Factions: sovietc
        ResetOnOwnerChange: true
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequenceAlpha: 0.65
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-4
	SpawnActorOnDeath@HUSK:
		Actor: WARF.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

FIX2:
	Inherits: ^BaseBuilding
    Inherits@EMPMechanic: ^EMPApplicableStructure    
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-300, -640,-811, 640,-811, 1536,-300, 1536,555, 640,1110, -640,1110, -1536,555
	Selectable:
		Bounds: 2901, 1450, 0, 128
		DecorationBounds: 3072, 2048
	Valued:
		Cost: 800
	Tooltip:
		Name: Service Depot
	Buildable:
        BuildDuration: 1350
        BuildDurationModifier: 100
		BuildPaletteOrder: 9
		Prerequisites: vehicleproduction, ~techlevel.3
		Queue: Building.Allies, Building.Soviet
		Description: Repairs Vehicles and Aircraft.\n\nCan sell Vehicles and Aircraft.
	Building:
		Footprint: =+= +++ =+=
		Dimensions: 3,3
	Health:
		HP: 70000
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
		HasMinibib: true
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete && !emp-affected-structure
	Reservable:
	RepairsUnits:
		HpPerStep: 1000
        Interval: 26
		PlayerExperience: 0
		StartRepairingNotification: Repairing
		StartRepairingTextNotification: Repairing.
        FinishRepairingNotification: UnitRepaired
        FinishRepairingTextNotification: Unit repaired.
        PauseOnCondition: emp-affected-structure
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	Power:
		Amount: -20
        RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	ProximityExternalCondition:
		Condition: unit.sellable
		Range: 1c0
	Sellable:
		RequiresCondition: !unit.docked && !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ExternalCondition@Docked:
		Condition: unit.docked
	ProximityExternalCondition@AIRCRAFTREPAIR:
		Condition: aircraft-repair
		Range: 5c256
	WithRangeCircle@AIRCRAFTREPAIR:
		Color: 888899AA
		Range: 5c256
	ProvidesPrerequisite:
		Prerequisite: anyfix
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-2
	SpawnActorOnDeath@HUSK:
		Actor: FIX2.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

2FLD:
	Inherits: ^BaseBuilding
    Inherits@AIRCRAFTREPAIR: ^RepairsAircraftWithRepairBay
	Inherits@shape: ^2x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 3072, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 420,0,0, 420,-1024,0, 420,1024,0, -777,0,0, -777,-1024,0, -777,1024,0
	Valued:
		Cost: 500
	Tooltip:
		Name: Airfield
	Buildable:
        BuildDuration: 750
        BuildDurationModifier: 100
		BuildPaletteOrder: 8
		Prerequisites: ~disabled
		Queue: Building.Soviet
		Description: Produces and reloads fixed wing aircraft.\nAlso can repair Aircraft if\nwithin Service Depot radius. 
	Building:
		Footprint: x=x =xx
		Dimensions: 3,2
	Health:
		HP: 60000
	RevealsShroud:
		Range: 3c512
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 768
        ProductionTypes: Aircraft, Plane
	Production:
		Produces: Aircraft, Plane
        PauseOnCondition: build-incomplete || emp-affected-structure
	Reservable:
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete && !emp-affected-structure
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	ProductionQueue:
		Type: Aircraft
		DisplayOrder: 4
		Group: Aircraft
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
        Sticky: false
	ProductionBar:
		ProductionType: Aircraft
	Power:
		Amount: -30
        RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@gdi:
		Prerequisite: aircraft.gdi
		Factions: gdi, gdia, gdib, gdic
        ResetOnOwnerChange: true
	ProvidesPrerequisite@nod:
		Prerequisite: aircraft.nod
		Factions: nod, noda, nodb, nodc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@allies:
		Prerequisite: aircraft.allies
		Factions: allies, alliesa, alliesb, alliesc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@soviet:
		Prerequisite: aircraft.soviet
		Factions: soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@bossnod:
		Prerequisite: aircraft.bossnod
		Factions: bossnod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@f22:
		Prerequisite: aircraft.f22
		Factions: nod, noda, nodb, nodc, bossnod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@nmig:
		Prerequisite: aircraft.nmig
		Factions: soviet
        ResetOnOwnerChange: true
	ProvidesPrerequisite@frog:
		Prerequisite: aircraft.frog
		Factions: sovietb
        ResetOnOwnerChange: true
	ProvidesPrerequisite@a10b:
		Prerequisite: aircraft.a10b
		Factions: gdia
        ResetOnOwnerChange: true
	ProvidesPrerequisite@mh60:
		Prerequisite: aircraft.mh60
		Factions: gdic
        ResetOnOwnerChange: true
	ProvidesPrerequisite@nodc:
		Prerequisite: aircraft.nodc
		Factions: nodc
        ResetOnOwnerChange: true
    WithBuildingBib:
	ProximityExternalCondition:
		Condition: unit.sellable
		Range: 1c0
	Sellable:
		RequiresCondition: !unit.docked && !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ExternalCondition@Docked:
		Condition: unit.docked
	ProvidesPrerequisite:
		Prerequisite: anyafld
	ParatroopersPower@SovietParatroopers:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.soviet
		OrderName: SovietParatroopers
		Icon: parainfra
		ChargeInterval: 6750
		UnitType: badr
		Name: Paratroopers
		Description: A Badger drops a squad of infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: parainfra
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	ParatroopersPower@ShockParatroopers:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.sovieta
		OrderName: ShockParatroopers
		Icon: parainfra2
		ChargeInterval: 6750
		UnitType: badr
		Name: Stormtroopers
		Description: A Badger drops a squad of infantry\nanywhere on the map.
		DropItems: SHOKR1,E1R1,SHOKR1,E1R1,SHOKR1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: parainfra
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	ParatroopersPower@Paratanks:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.sovietb
		OrderName: Paratanks
		Icon: paratanks
		ChargeInterval: 6750
		UnitType: badr
		Name: Paratanks
		Description: A Badger drops a pair of Heavy Tanks\nanywhere on the map.
		DropItems: 3TNKR1, 3TNKR1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: paratanks
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	ParatroopersPower@GDIParatroopers:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.gdia
		OrderName: GdiParatroopers
		Icon: parainfra
		ChargeInterval: 6750
		UnitType: c17.paradrop
		Name: Paratroopers
		Description: A Badger drops a squad of infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: parainfra
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	SupportPowerChargeBar:
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
    GrantConditionOnFaction@Soviet2:
        Condition: owner.is.soviet
        Factions: soviet, sovietb, sovietc
        ResetOnOwnerChange: true
    GrantConditionOnFaction@Soviet3:
        Condition: owner.is.sovieta
        Factions: sovieta
        ResetOnOwnerChange: true	
    GrantConditionOnFaction@Soviet4:
        Condition: owner.is.sovietb
        Factions: sovietb
        ResetOnOwnerChange: true	
    GrantConditionOnFaction@GDI:
        Condition: owner.is.gdia
        Factions: gdia
        ResetOnOwnerChange: true	
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-1
	SpawnActorOnDeath@HUSK:
		Actor: 2FLD.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

3FLD:
	Inherits: ^BaseBuilding
    Inherits@AIRCRAFTREPAIR: ^RepairsAircraftWithRepairBay
	Inherits@shape: ^2x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 3072, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 420,0,0, 420,-1024,0, 420,1024,0, -777,0,0, -777,-1024,0, -777,1024,0
	Valued:
		Cost: 500
	Tooltip:
		Name: Airfield
	Buildable:
        BuildDuration: 750
        BuildDurationModifier: 100
		BuildPaletteOrder: 8
		Prerequisites: vehicleproduction, ~building.3fld, ~techlevel.5
		Queue: Building.GDI, Building.Soviet, Building.Blackhand
		Description: Produces and reloads both\nfixed wing and VTOL aircraft.\nAlso can repair Aircraft if\nwithin Service Depot radius. 
	Building:
		Footprint: x=x =xx
		Dimensions: 3,2
	Health:
		HP: 60000
	RevealsShroud:
		Range: 3c512
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 768
        ProductionTypes: Aircraft, Plane, Chopper
	Production:
		Produces: Aircraft, Plane, Chopper
        PauseOnCondition: build-incomplete || emp-affected-structure
	Reservable:
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete && !emp-affected-structure
	RallyPoint:
	CommandBarBlacklist:
		DisableStop: false
	ProductionQueue:
		Type: Aircraft
		DisplayOrder: 4
		Group: Aircraft
		LowPowerModifier: 150
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
        Sticky: false
	ProductionBar:
		ProductionType: Aircraft
	Power:
		Amount: -30
        RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@gdi:
		Prerequisite: aircraft.gdi
		Factions: gdi, gdia, gdib, gdic
        ResetOnOwnerChange: true
	ProvidesPrerequisite@nod:
		Prerequisite: aircraft.nod
		Factions: nod, noda, nodb, nodc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@allies:
		Prerequisite: aircraft.allies
		Factions: allies, alliesa, alliesb, alliesc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@soviet:
		Prerequisite: aircraft.soviet
		Factions: soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@bossnod:
		Prerequisite: aircraft.bossnod
		Factions: bossnod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@f22:
		Prerequisite: aircraft.f22
		Factions: nod, noda, nodb, nodc, bossnod
        ResetOnOwnerChange: true
	ProvidesPrerequisite@nmig:
		Prerequisite: aircraft.nmig
		Factions: soviet
        ResetOnOwnerChange: true
	ProvidesPrerequisite@frog:
		Prerequisite: aircraft.frog
		Factions: sovietb
        ResetOnOwnerChange: true
	ProvidesPrerequisite@a10b:
		Prerequisite: aircraft.a10b
		Factions: gdia
        ResetOnOwnerChange: true
	ProvidesPrerequisite@mh60:
		Prerequisite: aircraft.mh60
		Factions: gdic
        ResetOnOwnerChange: true
	ProvidesPrerequisite@nodc:
		Prerequisite: aircraft.nodc
		Factions: nodc
        ResetOnOwnerChange: true
    WithBuildingBib:
	FreeActor@1:
		Actor: ORCA
		Facing: 768
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete && gdi.player && gratisair
	FreeActor@2:
		Actor: HELI
		Facing: 768
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete && nod.player && gratisair
	FreeActor@3:
		Actor: HEL2
		Facing: 768
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete && allies.player && gratisair
	FreeActor@4:
		Actor: HIND
		Facing: 768
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete && soviet.player && gratisair
	FreeActor@5:
		Actor: RH66
		Facing: 768
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete && bossnod.player && gratisair
	GrantConditionOnFaction@GDI:
		Condition: gdi.player
		Factions: gdi, gdia, gdib, gdic
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Nod:
		Condition: nod.player
		Factions: nod, noda, nodb, nodc
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Allies:
		Condition: allies.player
		Factions: allies, alliesa, alliesb, alliesc
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Soviet:
		Condition: soviet.player
		Factions: soviet, sovieta, sovietb, sovietc
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Blackhand:
		Condition: bossnod.player
		Factions: bossnod
		ResetOnOwnerChange: True
	GrantConditionOnPrerequisite@FREEAIRCRAFT:
		Prerequisites: global-freeaircraft
		Condition: gratisair
	ProductionCostMultiplier@FREEAIRCRAFT:
		Multiplier: 300
		Prerequisites: global-freeaircraft
	ProductionTimeMultiplier@FREEAIRCRAFT:
		Multiplier: 350
		Prerequisites: global-freeaircraft
	ProximityExternalCondition:
		Condition: unit.sellable
		Range: 1c0
	Sellable:
		RequiresCondition: !unit.docked && !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ExternalCondition@Docked:
		Condition: unit.docked
	ProvidesPrerequisite:
		Prerequisite: anyafld
	ProvidesPrerequisite@2:
		Prerequisite: hpad
	ParatroopersPower@SovietParatroopers:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.soviet
		OrderName: SovietParatroopers
		Icon: parainfra
		ChargeInterval: 6750
		UnitType: badr
		Name: Paratroopers
		Description: A Badger drops a squad of infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: parainfra
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	ParatroopersPower@ShockParatroopers:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.sovieta
		OrderName: ShockParatroopers
		Icon: parainfra2
		ChargeInterval: 6750
		UnitType: badr
		Name: Stormtroopers
		Description: A Badger drops a squad of infantry\nanywhere on the map.
		DropItems: SHOKR1,E1R1,SHOKR1,E1R1,SHOKR1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: parainfra
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	ParatroopersPower@Paratanks:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.sovietb
		OrderName: Paratanks
		Icon: paratanks
		ChargeInterval: 6750
		UnitType: badr
		Name: Paratanks
		Description: A Badger drops a pair of Heavy Tanks\nanywhere on the map.
		DropItems: 3TNKR1, 3TNKR1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: paratanks
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	ParatroopersPower@GDIParatroopers:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.gdia
		OrderName: GdiParatroopers
		Icon: parainf
		ChargeInterval: 6750
		UnitType: c17.paradrop
		Name: Paratroopers
		Description: A Cargo Plane drops a squad of infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.small
		DisplayBeacon: true
		BeaconPoster: parainfra
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 9
        Cursor: para
		ReinforcementsArrivedSpeechNotification: Reinforce
        ReinforcementsArrivedTextNotification: Reinforcements arrived.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		EndChargeSpeechNotification: ReinforceAvailable
        EndChargeTextNotification: Reinforcements available.
        LaunchSpeechNotification: ReinforceEnroute
        LaunchTextNotification: Reinforcements on the way.
        AllowMultiple: false
	SupportPowerChargeBar:
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
    GrantConditionOnFaction@Soviet2:
        Condition: owner.is.soviet
        Factions: soviet, sovietc
        ResetOnOwnerChange: true
    GrantConditionOnFaction@Soviet3:
        Condition: owner.is.sovieta
        Factions: sovieta
        ResetOnOwnerChange: true	
    GrantConditionOnFaction@Soviet4:
        Condition: owner.is.sovietb
        Factions: sovietb
        ResetOnOwnerChange: true	
	GrantConditionOnFaction@GDI2:
		Condition: owner.is.gdia
		Factions: gdia
		ResetOnOwnerChange: True
    ActorPreviewPlaceBuildingPreview:
		Animated: false
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-1
	SpawnActorOnDeath@HUSK:
		Actor: 3FLD.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

DOME:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisabledOverlay
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Inherits@shape: ^2x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-384,0, 630,384,0, -700,-512,0, -700,512,0
	Selectable:
		Bounds: 2048, 1706, 0, 384
		DecorationBounds: 2048, 2261, 0, -170
    Valued:
		Cost: 1000
	Tooltip:
		Name: Radar Dome
	ProvidesPrerequisite:
		Prerequisite: anyhq
	Buildable:
    	BuildDuration: 1500
        BuildDurationModifier: 100
		BuildPaletteOrder: 10
		Prerequisites: anyproc, vehicleproduction, ~techlevel.3
		Queue: Building.Allies, Building.Soviet
		Description: Provides Radar and 'Spy Plane' support-power.\nRequires power to operate.
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	WithSpriteBody:
		PauseOnCondition: lowpower || emp-affected-structure
	Health:
		HP: 90000
	RevealsShroud:
		Range: 10c0
	WithBuildingBib:
	ProvidesRadar:
		RequiresCondition: !jammed && !lowpower && !build-incomplete && !emp-affected-structure
	RenderDetectionCircle:
	DetectCloaked:
        DetectionTypes: Stealth, AirStealth, Underground, Underwater
		Range: 5c0
		RequiresCondition: !lowpower && !build-incomplete && !emp-affected-structure
	Power:
		Amount: -50
        RequiresCondition: !build-incomplete && !emp-affected-structure
	ActorPreviewPlaceBuildingPreview:
		Animated: false
	ExternalCondition@JAMMED:
		Condition: jammed
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
    WithColoredOverlay@IDISABLE:
        RequiresCondition: lowpower && !emp-affected-structure
	AirstrikePower@SpyPlane:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.soviet
		OrderName: SpyPlane
		Prerequisites: anyafld
		Icon: spyplane
		ChargeInterval: 4500
		Name: Spy Plane
		Description: Reveals an area of the map\nand cloaked enemy units.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: SpyPlaneReady
		SelectTargetTextNotification: Select target.
		EndChargeTextNotification: Spy plane ready.
		CameraActor: camera.spyplane
		CameraRemoveDelay: 150
		UnitType: smig
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: spypbcon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 5
	SupportPowerChargeBar:
    GrantConditionOnFaction@Soviet:
        Condition: owner.is.soviet
        Factions: soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@WIRELESS:
		Prerequisite: activeradar
		RequiresCondition: !jammed && !lowpower && !build-incomplete
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-2
	SpawnActorOnDeath@HUSK:
		Actor: DOME.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished
	InfiltrateForExploration:
		Types: SpyInfiltrate2
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate2

ATEK:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Inherits@IDISABLE: ^DisabledOverlay
    Inherits@EMPMechanic: ^EMPApplicableStructure
    ProductionCostMultiplier@alliesa:
        Multiplier: 75
        Prerequisites: discount.atek
    ProductionTimeMultiplier@alliesa:
        Multiplier: 80
        Prerequisites: discount.atek
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,0,0, 840,-1024,0, 420,768,0, -840,0,0, -840,-1024,0, -840,1024,0
	Tooltip:
		Name: Allies Technology Center
        GenericStancePrefix: false
        GenericName: Technology Center
        GenericVisibility: Ally, Neutral, Enemy
	Valued:
		Cost: 2000
	Buildable:
    	BuildDuration: 3300
        BuildDurationModifier: 100
		BuildPaletteOrder: 12
		BuildLimit: 1
		Prerequisites: vehicleproduction, anyhq, ~techlevel.6
		Queue: Building.Allies
		Description: Maximum one can be built.\n\nUnlocks higher-tech units and buildings.\n\nLaunches a sattelite that reveals map terrain\nand periodically provides tactical information.
	Health:
		HP: 100000
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
        LocalCenterOffset: 0,-256,0
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -200
		RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite:
		Prerequisite: anytier3
	ProvidesPrerequisite@2:
		Prerequisite: anytechra
        Factions: allies, alliesa, alliesb, alliesc, soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	SpawnActorsOnSell:
		ActorTypes: e6,tecn,tecn,tecn,e1,e1
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	GpsPower:
		PauseOnCondition: ( lowpower || emp-affected-structure ) || !gpsactivated
		RequiresCondition: gpsactivated
		Icon: gpsprep
		OneShot: true
		ChargeInterval: 1
		Name: GPS Satellite
		Description: Reveals map terrain and provides tactical\ninformation. Requires power and active radar.
		RevealDelay: 30
		LaunchSpeechNotification: SatelliteLaunched
		LaunchTextNotification: Satellite launched.
		DisplayTimerRelationships: None
		SupportPowerPaletteOrder: 9
		StartFullyCharged: True
		RequiresActiveRadar: True        
	ProduceActorPower@powergps:
		Name: GPS Satellite
		Description: Reveals map terrain and provides tactical\ninformation.
		Icon: gpsprep
		PauseOnCondition: lowpower || emp-affected-structure
		Actors: gpsactivenoise
		Type: GPSPower
		ChargeInterval: 4500
		OrderName: GPSSpawner
		SupportPowerPaletteOrder: 9
		LaunchSpeechNotification:
		IncomingSpeechNotification:
		DisplayTimerRelationships: None
		EndChargeSpeechNotification: SatelliteReady
		RequiresCondition: !gpsactivated
	ProduceActorPower@gpsactivesign:
		Name: GPS Active Timer
		Description: Displays the amount of time the satellite is still active.
		Icon: gpsactive
		Actors: e1
		Type: Infantry
		ChargeInterval: 1501
		SupportPowerPaletteOrder: 9
		DisplayTimerRelationships: Ally, Neutral, Enemy
		RequiresCondition: gpsactivated
	GrantConditionOnPrerequisite@gpsactivation:
		Prerequisites: gpsactiveprereq
		Condition: gpsactivated
	ProvidesPrerequisite@uplink:
		Prerequisite: uplink
	Exit@1:
		SpawnOffset: -704,768,0
		ExitCell: -1,2
	Production@GPSPower:
		Produces: GPSPower
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-4
	SpawnActorOnDeath@HUSK:
		Actor: ATEK.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate2
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate2

gpsactivenoise:
	Interactable:
	EditorOnlyTooltip:
		Name: (GPS Active Noise Dummy)
	AlwaysVisible:
	Aircraft:
		Repulsable: False
	BodyOrientation:
		QuantizedFacings: 1
	WithSpriteBody:
	RenderSpritesEditorOnly:
		Image: camera
	MapEditorData:
		Categories: System
	ProvidesPrerequisite@gap:
		Prerequisite: gpsactiveprereq
	ActorLostNotification:
		Notification: SatelliteInitialized
		NotifyAll: True
	Health:
		HP: 1
	HitShape:
	ChangesHealth:
		Step: -1
		StartIfBelow: 101
		Delay: 1
	SpawnActorOnDeath:
		Actor: powergps
		SpawnAfterDefeat: False
	KillsSelf:

powergps:
	Interactable:
	EditorOnlyTooltip:
		Name: (GPS Power Dummy)
	AlwaysVisible:
	Aircraft:
		Repulsable: False
	BodyOrientation:
		QuantizedFacings: 1
	WithSpriteBody:
	RenderSpritesEditorOnly:
		Image: camera
	MapEditorData:
		Categories: System
	ProvidesPrerequisite@gap:
		Prerequisite: gpsactiveprereq
	ActorLostNotification:
		Notification: SatelliteTerminated
		NotifyAll: True
	Health:
		HP: 1499
	HitShape:
	ChangesHealth:
		Step: -1
		StartIfBelow: 101
		Delay: 1
	GrantConditionOnPrerequisite@satelliteexists:
		Prerequisites: uplink
		Condition: uplinkexists
	KillsSelf:
		RequiresCondition: !uplinkexists

STEK:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 3072, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,0,0, 840,-1024,0, 420,768,0, -840,0,0, -840,-1024,0, -840,1024,0
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
        LocalCenterOffset: 0,-256,0
	Buildable:
    	BuildDuration: 3300
        BuildDurationModifier: 100
		BuildPaletteOrder: 12
		BuildLimit: 1
		Prerequisites: vehicleproduction, anyhq, ~techlevel.6
		Queue: Building.Soviet
		Description: Maximum one can be built.\n\nUnlocks higher-tech units and buildings.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Soviet Technology Center
        GenericStancePrefix: false
        GenericName: Technology Center
        GenericVisibility: Ally, Neutral, Enemy
	Health:
		HP: 100000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -100
		RequiresCondition: !build-incomplete && !emp-affected-structure
	ProvidesPrerequisite@buildingname:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite:
		Prerequisite: anytier3
	ProvidesPrerequisite@2:
		Prerequisite: anytechra
        Factions: allies, alliesa, alliesb, alliesc, soviet, sovieta, sovietb, sovietc
        ResetOnOwnerChange: true
	SpawnActorsOnSell:
		ActorTypes: e6,tecn,tecn,tecn,e1,e1
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-4
	SpawnActorOnDeath@HUSK:
		Actor: STEK.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished

FCOM:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
    Inherits@EMPMechanic: ^EMPApplicableStructure
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
    	BuildDuration: 1500
        BuildDurationModifier: 100
		BuildPaletteOrder: 13
		BuildLimit: 1
		Prerequisites: stek, ~techlevel.7
		Queue: Building.Soviet
		Description: Maximum one can be built.\n\nUnlocks Volkov, Behemoth Tank,\nNuclear Tactical Submarine,\nand MiG Nuclear Bomber to be built.\n\nProvides 'Parabombs' super-weapon.
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Valued:
		Cost: 1000
	Tooltip:
		Name: Command Post
	Health:
		HP: 60000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: -50
	AirstrikePower@SovietParabombs:
        PauseOnCondition: lowpower || emp-affected-structure
        RequiresCondition: owner.is.soviet
		OrderName: SovietParabombs
		Prerequisites: anyafld, ~global-superweapons
		Icon: parabombs
		ChargeInterval: 7500
		Name: Parabombs
		Description: A Badger drops a load of parachuted\nbombs on your target.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		Cursor: para
        CameraActor: camera.small
		UnitType: badr.bomber
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: pbmbbcon
		SquadSize: 1
		SquadOffset: 1792,1792,0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
        SupportPowerPaletteOrder: 3
	SupportPowerChargeBar:
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
    GrantConditionOnFaction@Soviet:
        Condition: owner.is.soviet
        Factions: soviet, sovietc
        ResetOnOwnerChange: true
	ProvidesPrerequisite@buildingname:
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-2
	SpawnActorOnDeath@HUSK:
		Actor: FCOM.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate2
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate2

CSPH:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Inherits@IDISABLE: ^DisabledOverlay
    Inherits@EMPMechanic: ^EMPApplicableStructure
	SelectionDecorations:
	Selectable:
		Bounds: 2048, 2048
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-256,0
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	Valued:
		Cost: 1400
	Buildable:
    	BuildDuration: 3900
        BuildDurationModifier: 100
        BuildPaletteOrder: 15
		BuildLimit: 1
		Prerequisites: atek, ~global-superweapons, ~techlevel.7
		Queue: Building.Allies
		Description: Maximum one can be built.\n\nEnables the usage of 'Chronosphere' super-weapon.
	Tooltip:
		Name: Chronosphere Device
        GenericStancePrefix: false
        GenericName: Chronosphere
        GenericVisibility: Ally, Neutral, Enemy           
	ProvidesPrerequisite@buildingname:
	Power:
		Amount: -150
		RequiresCondition: !build-incomplete
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
		HasMinibib: true
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	ChronoshiftPower@Chronoshift:
		PauseOnCondition: lowpower
        RequiresCondition: !owner.is.alliesb
		OrderName: Chronoshift
		Icon: chrono
		ChargeInterval: 10500
		Name: Chronoshift
		Description: Teleports a group of units\nacross the map for 1.5 minutes.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		InsufficientPowerSpeechNotification: InsufficientPower
		InsufficientPowerTextNotification: Insufficient power.
		BeginChargeSpeechNotification: ChronosphereCharging
		BeginChargeTextNotification: Chronosphere charging.
		EndChargeSpeechNotification: ChronosphereReady
		EndChargeTextNotification: Chronosphere ready.
		Duration: 2250
		KillCargo: true
		DisplayRadarPing: True
		Dimensions: 3, 3
		Footprint: xxx xxx xxx
        SupportPowerPaletteOrder: 2
	ChronoshiftPower@Chronoshift2:
		PauseOnCondition: lowpower
        RequiresCondition: owner.is.alliesb
		OrderName: Chronoshift2
		Icon: chrono
		ChargeInterval: 7500
		Name: Chronoshift
		Description: Teleports a group of units\nacross the map for 1.5 minutes.
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		InsufficientPowerSpeechNotification: InsufficientPower
		InsufficientPowerTextNotification: Insufficient power.
		BeginChargeSpeechNotification: ChronosphereCharging
		BeginChargeTextNotification: Chronosphere charging.
		EndChargeSpeechNotification: ChronosphereReady
		EndChargeTextNotification: Chronosphere ready.
		Duration: 2250
		KillCargo: true
		DisplayRadarPing: True
		Dimensions: 3, 3
		Footprint: xxx xxx xxx
        SupportPowerPaletteOrder: 2
 	SupportPowerChargeBar:
    GrantConditionOnFaction@alliesb:
        Condition: owner.is.alliesb
        Factions: alliesb
	MustBeDestroyed:
		RequiredForShortGame: false
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-3
	SpawnActorOnDeath@HUSK:
		Actor: CSPH.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate2
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate2

IRON:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Inherits@IDISABLE: ^DisabledOverlay
    Inherits@EMPMechanic: ^EMPApplicableStructure
	SelectionDecorations:
	Selectable:
		Bounds: 2048, 2048, 0, 2
		DecorationBounds: 2050, 2050, 0, -428
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,-512
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	Valued:
		Cost: 1400
	Buildable:
    	BuildDuration: 1400
        BuildDurationModifier: 100
        BuildPaletteOrder: 16
		BuildLimit: 1
		Prerequisites: stek, ~global-superweapons, ~techlevel.7
		Queue: Building.Soviet
		Description: Maximum one can be built.\n\nEnables the usage of 'Iron Curtain' super-weapon.
	Tooltip:
		Name: Iron Curtain Device
        GenericStancePrefix: false
        GenericName: Iron Curtain
        GenericVisibility: Ally, Neutral, Enemy
	ProvidesPrerequisite@buildingname:
	Power:
		Amount: -150
		RequiresCondition: !build-incomplete
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
        HasMinibib: true
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
 	GrantExternalConditionPower@IronCurtain:
		OrderName: IronCurtain
		PauseOnCondition: lowpower
		Icon: invulnerable
		ChargeInterval: 9000
        Name: Invulnerability
		Description: Makes a group of units\nInvulnerable for 45 seconds.
		Duration: 1125
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		InsufficientPowerSpeechNotification: InsufficientPower
		InsufficientPowerTextNotification: Insufficient power.
		BeginChargeSpeechNotification: IronCurtainCharging
		BeginChargeTextNotification: Iron curtain charging.
		EndChargeSpeechNotification: IronCurtainReady
		EndChargeTextNotification: Iron curtain ready.
		DisplayRadarPing: True
		Condition: invulnerability-crate-collected
		OnFireSound: ironcur9.aud
		Dimensions: 3, 3
		Footprint: xxx xxx xxx
        SupportPowerPaletteOrder: 2
 	SupportPowerChargeBar:
	MustBeDestroyed:
		RequiredForShortGame: false
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-3
	SpawnActorOnDeath@HUSK:
		Actor: IRON.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate2
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate2

MSLO:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x1Shape
	Inherits@IDISABLE: ^DisabledOverlay
    Inherits@EMPMechanic: ^EMPApplicableStructure
    ProductionCostMultiplier@sovietc:
        Multiplier: 80
        Prerequisites: discount.mslo
    ProductionTimeMultiplier@sovietc:
        Multiplier: 80
        Prerequisites: discount.mslo
	SelectionDecorations:
	Selectable:
		Bounds: 2048, 1024, 0, 0
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	Valued:
		Cost: 2500
	Buildable:
        BuildDuration: 3900
        BuildDurationModifier: 100
        BuildPaletteOrder: 17
		BuildLimit: 1
		Prerequisites: anytier3, ~global-superweapons, ~techlevel.7
		Queue: Building.Allies, Building.Soviet, Building.Blackhand
		Description: Maximum one can be built.\n\nEnables the usage of 'Atomic Bomb' super-weapon.
	Tooltip:
		Name: Nuclear Missile Silo
        GenericStancePrefix: false
        GenericName: Missile Silo
        GenericVisibility: Ally, Neutral, Enemy        
	ProvidesPrerequisite@buildingname:
	Power:
		Amount: -150
		RequiresCondition: !build-incomplete
	RevealsShroud:
		Range: 3c0
    Sellable:
        RequiresCondition: !build-incomplete && !being-demolished && !being-captured && !emp-affected-structure
	NukePower@NuclearStrikeRA:
        OrderName: NukeMissileRA
		PauseOnCondition: lowpower || emp-affected-structure
		Cursor: nuke
		Icon: abomb
		AllowMultiple: false
		ChargeInterval: 13500
		FlightDelay: 100
		FlightVelocity: 1c0
		Name: Nuclear Strike
		Description: Launch a tactical nuclear warhead.\nApplies heavy damage over a large area.
		EndChargeSpeechNotification: NuclearWeaponAvailable
        EndChargeTextNotification: Nuclear weapon available.
		SelectTargetSpeechNotification: SelectTarget
        SelectTargetTextNotification: Select target.
		InsufficientPowerSpeechNotification: InsufficientPower
        InsufficientPowerTextNotification: Insufficient power.
		LaunchSpeechNotification: NuclearWeaponLaunched
        LaunchTextNotification: Nuclear weapon launched.
		IncomingSpeechNotification: NuclearWarheadApproaching
        IncomingTextNotification: Nuclear warhead approaching.
		MissileWeapon: atomic
        MissileImage: atomic
        MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: atomic
		BeaconPosterPalette: beaconposter
		CameraRange: 10c0
        CameraRemoveDelay: 50
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
        SupportPowerPaletteOrder: 1
 	SupportPowerChargeBar:
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete
	WithSupportPowerActivationOverlay:
		RequiresCondition: !build-incomplete
		Sequence: smoke
         Offset: -68, 0, 0
	MustBeDestroyed:
		RequiredForShortGame: false
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building-player, building-player-5
	SpawnActorOnDeath@HUSK:
		Actor: MSLO.Husk
        OwnerType: Victim
        EffectiveOwnerFromOwner: true
        RequiresCondition: husks-enabled && !being-demolished
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate2
        InfiltratedNotification: BuildingInfiltrated
		InfiltratedTextNotification: Building Infiltrated.
	Targetable@Infiltration:
        TargetTypes: SpyInfiltrate2

ANYAFLD:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Airport or Airfield

ANYFIX:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: A Service Depot

ANYPROC:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Any Refinery

ANYTECHRA:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: a Tech Center
