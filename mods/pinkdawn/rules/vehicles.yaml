MCV:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableSupportUnit
	Inherits@Invuln: ^AcceptsInvulnerabilityCrate
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
	ChangesHealth@SELFREPAIR:
		Step: 500
		Delay: 100
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( armoryrepair || mechanicrepair ) && !( in-transport || parachute || oncarryall )
	HitShape:
		Type: Circle
			Radius: 608
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability-crate-collected
	Valued:
		Cost: 2500
	Tooltip:
		Name: Mobile Construction Vehicle
        GenericStancePrefix: false
        GenericName: MCV
        GenericVisibility: Ally, Neutral, Enemy
	Buildable:
        BuildDuration: 3900
        BuildDurationModifier: 100
		BuildPaletteOrder: 16
        Prerequisites: anyhq, anyfix, ~vehicle.mcv, ~techlevel.3
		Queue: Vehicle
		Description: Deploys into another Construction Yard.\n\nUnarmed.
	Selectable:
		DecorationBounds: 1536, 1536
	Mobile:
        TurnSpeed: 12
		Speed: 60
		Locomotor: tracked-crusher
        PauseOnCondition: boarding
 	Health:
		HP: 90000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Transforms:
        PauseOnCondition: cant-undeploy
		IntoActor: fact
		Offset: -1,-1
		Facing: 432
		TransformSounds: constru2.aud, hvydoor1.aud
		NoTransformNotification: BuildingCannotPlaceAudio
		NoTransformTextNotification: Cannot deploy here.
		Voice: Unload
	GrantConditionOnDamageState@undeploy:
		Condition: cant-undeploy
		ValidDamageStates: Heavy, Critical
	MustBeDestroyed:
		RequiredForShortGame: true
	BaseBuilding:
	RenderSprites:
		Image: mcv
		FactionImages:
			nod: nodmcv
			noda: nodmcv
			nodb: nodmcv
			nodc: nodmcv
            bossnod: nodmcv
	ProductionCostMultiplier@EXPENSIVEMCV:
		Multiplier: 200
		Prerequisites: global-expensivemcv
	ProductionTimeMultiplier@EXPENSIVEMCV:
		Multiplier: 200
		Prerequisites: global-expensivemcv
	GpsDot:
		String: Heavy
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || oncarryall
		RequiresCondition: cloakfield-on
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
    Passenger:

HARV:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableEconomicUnit
    Inherits@Crates: ^AcceptsAllCratesExceptFirepower
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:    
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
    -ChangesHealth@SELFREPAIR:
    -WithDecoration@SELFREPAIR:
    -ExternalCondition@UNITSOURCE:
    -GrantCondition@UNITSOURCE:
    ProductionCostMultiplier@noda:
        Multiplier: 85
        Prerequisites: player.noda
    ProductionTimeMultiplier@noda:
        Multiplier: 90
        Prerequisites: player.noda
	DamageMultiplier@noda:
		RequiresCondition: owner.is.noda
		Modifier: 90
    GrantConditionOnFaction@noda:
		Condition: owner.is.noda
		Factions: noda
		ResetOnOwnerChange: True
	HitShape:
		Type: Circle
			Radius: 512
	Valued:
		Cost: 1200
	Tooltip:
		Name: Tiberium Harvester
		GenericName: Harvester
        GenericStancePrefix: false
        GenericVisibility: Ally, Neutral, Enemy
	Buildable:
    	BuildDuration: 1650
        BuildDurationModifier: 100
		BuildPaletteOrder: 0
		Prerequisites: proc, ~vehicle.harv
		Queue: Vehicle
		Description: Collects Tiberium for processing.\n\nSpecial: Self-repair\nRegenerates lost hitpoints\nwhen below half health.\n\nUnarmed.
	Selectable:
		DecorationBounds: 1536, 1536
	Harvester:
        DeliveryBuildings: proc, proc.clone
		Resources: Tiberium, BlueTiberium, RedTiberium
		Capacity: 21
		BaleLoadDelay: 12
		BaleUnloadDelay: 6
		SearchFromProcRadius: 15
		SearchFromHarvesterRadius: 8
		HarvestFacings: 8
	Mobile:
		Speed: 60
		TurnSpeed: 12
        Locomotor: wheeled-crusher
        PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	ActorLostNotification:
		Notification: HarvesterLost
		TextNotification: Harvester lost.
	WithHarvestAnimation:
	WithDockingAnimation:
	Explodes:
		Weapon: UnitExplodeHarv
		EmptyWeapon: UnitExplodeHarv
	WithHarvesterPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 7
		ResourceSequences:
			Tiberium: pip-green
			BlueTiberium: pip-blue
            RedTiberium: pip-red
	ProximityExternalCondition@DOCKED:
		Condition: dockinprocess
		Range: 1c0
		ValidRelationships: Ally
	ExternalCondition@DOCKED:
		Condition: docked
		SourceCap: 1
		TotalCap: 1        
	RejectsOrders:
		RequiresCondition: docked
	ChangesHealth:
		Step: 100
		Delay: 3
		StartIfBelow: 51
		DamageCooldown: 150
        RequiresCondition: !emp-crate-collected && !in-transport && !oncarryall && !parachute && !in-transport && !armoryrepair
	ChangesHealth@2:
		Step: 100
		Delay: 3
		StartIfBelow: 100
		DamageCooldown: 150
		RequiresCondition: !emp-crate-collected && !in-transport && !oncarryall && !parachute && !in-transport && armoryrepair
	RenderSprites:
		Image: harv
		FactionImages:
			nod: nodharv
			noda: nodharv
			nodb: nodharv
			nodc: nodharv
            bossnod: nodharv
	GpsDot:
		String: Harvester
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
        InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
    Targetable@Extra:
		TargetTypes: Harvester

2TRK:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableSupportUnit
	Inherits@Speed: ^AcceptsSpeedCrate
	Inherits@Invuln: ^AcceptsInvulnerabilityCrate
	Inherits@EMP: ^AcceptsEMPCrate
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:    
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
	ChangesHealth@SELFREPAIR:
		Step: 500
		Delay: 100
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( armoryrepair || mechanicrepair ) && !( in-transport || parachute || oncarryall || emp-crate-collected )
	Buildable:
		BuildDuration: 900
        BuildDurationModifier: 100
		BuildPaletteOrder: 17
		Queue: Vehicle
		Prerequisites: anyproc, ~vehicle.mcv, ~techlevel.3
		Description: Transports 1000 credits to\nother allied Construction Yard.\n\nUnarmed.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Supply Truck
	Health:
		HP: 12000
	Armor:
		Type: Light
	Mobile:
        Locomotor: wheeled-non-crusher
        TurnSpeed: 12
		Speed: 60
		PauseOnCondition: emp-crate-collected || boarding
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	DeliversCash:
        Cursor: sell-unit
		Payload: 1000
		PlayerExperience: 0
	SpawnActorOnDeath:
		Actor: moneycrate
        RequiresCondition: !oncarryall
    Passenger:
		CustomPipType: pip-blue
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || oncarryall
		RequiresCondition: cloakfield-on
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	RenderSprites:
		Image: 2trk

TTRK:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableSupportUnit
	Inherits@Speed: ^AcceptsSpeedCrate
	Inherits@EMP: ^AcceptsEMPCrate
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:    
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
	ChangesHealth@SELFREPAIR:
		Step: 500
		Delay: 100
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( armoryrepair || mechanicrepair ) && !( in-transport || parachute || oncarryall || emp-crate-collected)
	Valued:
		Cost: 2100
	Tooltip:
		Name: Toxic Demolition Truck
        GenericStancePrefix: false
        GenericName: Toxic Demo Truck
        GenericVisibility: Ally, Neutral, Enemy
	Buildable:
    	BuildDuration: 3500
        BuildDurationModifier: 100
		BuildPaletteOrder: 15
		Prerequisites: bio, ~vehicle.nod, ~player.nodc, ~techlevel.6
		Queue: Vehicle
		Description: Transports chemical demolition charge.\n\nCan be deployed for instant detonation.
	Health:
		HP: 12000
	Armor:
		Type: Light
	Mobile:
        Locomotor: wheeled-non-crusher
        TurnSpeed: 12
		Speed: 60
		PauseOnCondition: emp-crate-collected || boarding
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Passenger:
        CargoType: Vehicle2
		CustomPipType: pip-blue
	Explodes:
		Weapon: ChemBomb
		EmptyWeapon: ChemBomb
		DamageSource: Killer
	AttackFrontal:
		FacingTolerance: 512
        PauseOnCondition: emp-crate-collected
	Armament@PRIMARY:
		Weapon: DemoTruckTargeting
        PauseOnCondition: emp-crate-collected
	GrantConditionOnAttack:
		Condition: triggered
	GrantConditionOnDeploy:
		DeployedCondition: triggered
        PauseOnCondition: emp-crate-collected
        DeployCursor: deploy-orange
        DeployBlockedCursor: deploy-blocked-orange
	KillsSelf:
		RequiresCondition: triggered
	Chronoshiftable:
		ExplodeInstead: true
	RevealOnDeath:
		Duration: 50
		Radius: 2c512
        RevealForRelationships: Ally, Neutral, Enemy
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || oncarryall
		RequiresCondition: cloakfield-on
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical

JEEP:
	Inherits: ^Vehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetforLightVehicle
	Valued:
		Cost: 400
	Tooltip:
		Name: Humvee
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 600
        BuildDurationModifier: 100
		BuildPaletteOrder: 1
		Prerequisites: vehicleproduction, ~vehicle.gdi, ~techlevel.2
		Queue: Vehicle
		Description: Fast scout and anti-infantry vehicle.\n\nStrong vs Infantry.\nWeak vs Tanks.
	Mobile:
        Locomotor: wheeled-non-crusher
		TurnSpeed: 18
		Speed: 150
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 15000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 18
		Offset: -85,0,128
	Armament@PRIMARY:
        Name: primary
		Weapon: MachineGunLight
		LocalOffset: 171,0,85
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
    Armament@SECONDARY:
        Name: secondary
		Weapon: MachineGun
		LocalOffset: 171,0,85
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic
	AttackMove:
		Voice: Attack
	AttackTurreted:
        Armaments: primary, secondary
		Voice: Attack
        PauseOnCondition: emp-crate-collected
	WithMuzzleOverlay:
	WithSpriteTurret:
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

JSAM:
	Inherits: ^Vehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetAir
	Valued:
		Cost: 700
	Tooltip:
		Name: Avenger
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 600
        BuildDurationModifier: 100
		BuildPaletteOrder: 10
		Prerequisites: anyhq, ~vehicle.gdi, ~player.bossgdi, ~techlevel.5
		Queue: Vehicle
		Description: Mobile SAM vehicle.\n\nCan attack only Aircraft.
	Mobile:
        Locomotor: wheeled-non-crusher
		TurnSpeed: 18
		Speed: 150
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 20000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 6c128
		RevealGeneratedShroud: False
        MinRange: 3c128
	RevealsShroud@GAPGenerator:
		Range: 3c128
        RevealGeneratedShroud: True
	AutoTargetPriority@Air:
		ValidTargets: Air
		Priority: 2
	Turreted:
		TurnSpeed: 18
		Offset: -258,0,224
	Armament:
		Weapon: TowerMissileAA
		LocalOffset: 256,128,194, 256,-128,194
		LocalYaw: -100,100
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	AttackTurreted:
		Voice: Attack
        PauseOnCondition: emp-crate-collected
	WithSpriteTurret:
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal
	RenderRangeCircle:
		RangeCircleType: aa

BGGY:
	Inherits: ^Vehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetforLightVehicle
	Valued:
		Cost: 300
	Tooltip:
		Name: Buggy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 600
        BuildDurationModifier: 100
		BuildPaletteOrder: 2
		Prerequisites: vehicleproduction, ~vehicle.nod, ~techlevel.2
		Queue: Vehicle
		Description: Fast scout and anti-infantry vehicle.\n\nStrong vs Infantry.\nWeak vs Tanks.
	Mobile:
		TurnSpeed: 18
		Speed: 160
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 12500
	Armor:
		Type: Light
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 18
		Offset: -43,0,128
	Armament:
		Weapon: MachineGunLight
		LocalOffset: 171,0,43
		MuzzleSequence: muzzle
	AttackMove:
		Voice: Attack
	AttackTurreted:
		Voice: Attack
	WithMuzzleOverlay:
	WithSpriteTurret:
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

BIKE:
	Inherits: ^Vehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Valued:
		Cost: 500
	Tooltip:
		Name: Recon Bike
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 750
        BuildDurationModifier: 100
		BuildPaletteOrder: 11
		Prerequisites: anyhq, ~vehicle.nod, ~techlevel.5
		Queue: Vehicle
		Description: Fast scout vehicle with rockets.\nCan detect cloaked units and mines.\n\nCan attack Aircraft.\nStrong vs Vehicles, Tanks.\nWeak vs Infantry.
	Mobile:
    	Locomotor: wheeled-non-crusher
		TurnSpeed: 24
		Speed: 175
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 7500
	Armor:
		Type: Light
	RevealsShroud:
		Range: 4c128
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Armament@PRIMARY:
        Name: primary
		Weapon: BikeRockets
		LocalOffset: -128, -170, 170, -128, 170, 170
		LocalYaw: 100, -100
		PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
 	Armament@SECONDARY:
        Name: secondary
		Weapon: BikeRockets2
		LocalOffset: -128, -170, 170, -128, 170, 170
		LocalYaw: 100, -100
		PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic
	AttackFrontal:
        Armaments: primary, secondary
        FacingTolerance: 0
        Voice: Attack
		PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	DetectCloaked:
        DetectionTypes: Stealth, Underground
		Range: 3c768
		RequiresCondition: !emp-crate-collected
	RenderDetectionCircle:
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

APC:
	Inherits: ^TrackedVehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@TRANSPORT: ^Transport
	Valued:
		Cost: 500
	Tooltip:
		Name: Armored Personnel Carrier
        GenericStancePrefix: false
        GenericName: APC
        GenericVisibility: Ally, Neutral, Enemy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildDuration: 900
        BuildDurationModifier: 100
		BuildPaletteOrder: 3
		Prerequisites: infantryproduction, ~!vehicle.soviet, ~!player.gdic, ~!player.nodb, ~!player.bossallies, ~techlevel.4
		Queue: Vehicle
		Description: Armored infantry transport.\nCan transport up to 5 Infantry.\n\nStrong vs Infantry.\nWeak vs Tanks.
	Mobile:
        Locomotor: tracked-crusher
		TurnSpeed: 12
		Speed: 110
		PauseOnCondition: notmobile || emp-crate-collected || boarding
	Health:
		HP: 20000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	Armament:
		Weapon: MachineGun
		LocalOffset: 85,0,171
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
	AttackFrontal:
        FacingTolerance: 0
        Voice: Attack
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	Cargo:
		Types: Infantry
		MaxWeight: 5
		UnloadVoice: Unload
        LoadingCondition: notmobile
        LoadedCondition: loaded
		PassengerConditions:
			rmbo: commandoinside
            tany: commandoinside
            volk: commandoinside
            mega: commandoinside
            snip: sniperinside
	WithDecoration@COMMANDOSKULL:
		Image: pips
		Sequence: pip-skull
		Palette: effect
		Position: TopLeft
		ValidRelationships: Ally
		RequiresCondition: commandoinside
	WithDecoration@CROSSHAIR:
		Image: pips
		Sequence: pip-sniper
		Palette: effect
		Position: TopLeft
		ValidRelationships: Ally
		RequiresCondition: sniperinside
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
	Sellable:
		RequiresCondition: unit.sellable && !loaded
    Capturable:
        RequiresCondition: !loaded
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
    RevealsShroudMultiplier@heroic:
        Modifier: 150
        RequiresCondition: rank-heroic
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

MAAG:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Valued:
		Cost: 700
	Tooltip:
		Name: Mobile Anti-Air Gun
        GenericStancePrefix: false
        GenericName: Mobile AA Gun
        GenericVisibility: Ally, Neutral, Enemy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 1200
        BuildDurationModifier: 100
		BuildPaletteOrder: 10
		Prerequisites: anyhq, ~vehicle.gdi, ~!player.gdic, ~!player.bossgdi, ~techlevel.5
		Queue: Vehicle
		Description: All-rounder fire-support vehicle.\n\nCan attack Aircraft.\nStrong vs Aircraft, Infantry.\nWeak vs Vehicles.
	Mobile:
        Locomotor: tracked-crusher
		TurnSpeed: 18
		Speed: 110
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 20000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 6c128
		RevealGeneratedShroud: False
        MinRange: 3c128
	RevealsShroud@GAPGenerator:
		Range: 3c128
        RevealGeneratedShroud: True
	AutoTargetPriority@Air:
		ValidTargets: Air
		Priority: 2
	Turreted:
		TurnSpeed: 18
	Armament@PRIMARY:
        Name: primary
		Weapon: APCGunAG
		Recoil: 48
		RecoilRecovery: 18
		LocalOffset: 255,100,189, 255,-100,189
		MuzzleSequence: muzzle
		PauseOnCondition: reload-air || emp-crate-collected
		ReloadingCondition: reload-ground
	Armament@SECONDARY:
		Name: secondary
		Weapon: APCGunAA
		Recoil: 48
		RecoilRecovery: 18
		LocalOffset: 175,100,299, 175,-100,299
		MuzzleSequence: muzzle-air
		PauseOnCondition: reload-ground || emp-crate-collected
		ReloadingCondition: reload-air
	GrantConditionOnAttack:
		Condition: attack-air
		ArmamentNames: secondary
		RevokeDelay: 18
		RevokeOnNewTarget: False
		RevokeAll: True
	AttackTurreted:
        Armaments: primary, secondary
        Voice: Attack
		PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	WithSpriteTurret:
		RequiresCondition: !attack-air
	WithSpriteTurret@AIR:
		Sequence: turret-air
		RequiresCondition: attack-air
	Sellable:
		RequiresCondition: unit.sellable
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
    RenderSprites:
        Image: maag
	RenderRangeCircle:
		RangeCircleType: aa
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

AAV:
	Inherits: ^TrackedVehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@TRANSPORT: ^Transport
	Valued:
		Cost: 500
	Tooltip:
		Name: Amphibious Assault Vehicle
        GenericStancePrefix: false
        GenericName: AAV
        GenericVisibility: Ally, Neutral, Enemy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildDuration: 900
        BuildDurationModifier: 100
		BuildPaletteOrder: 3
		Prerequisites: infantryproduction, ~vehicle.gdi, ~player.gdic, ~techlevel.4
		Queue: Vehicle
		Description: Amphibian infantry transport.\nCan transport up to 5 Infantry.\n\nStrong vs Infantry.\nWeak vs Tanks.
	Mobile:
        Locomotor: tracked-amphibian
		TurnSpeed: 12
		Speed: 110
		PauseOnCondition: notmobile || emp-crate-collected || boarding
	Health:
		HP: 20000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 12
        Offset: 112,76,92
	Armament:
		Weapon: MachineGun
		LocalOffset: 320,0,171
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
	AttackTurreted:
        Voice: Attack
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	WithSpriteTurret:
        Sequence: turret
	WithFacingSpriteBody:
		RequiresCondition: !onwater
	WithFacingSpriteBody@WATER:
		Sequence: idle-water
		Name: body-water
		RequiresCondition: onwater
	GrantConditionOnTerrain:
		TerrainTypes: Water
		Condition: onwater
	Cargo:
		Types: Infantry
		MaxWeight: 5
		UnloadVoice: Unload
        LoadingCondition: notmobile
        LoadedCondition: loaded
		PassengerConditions:
			rmbo: commandoinside
            tany: commandoinside
            volk: commandoinside
            mega: commandoinside
            snip: sniperinside
	WithDecoration@COMMANDOSKULL:
		Image: pips
		Sequence: pip-skull
		Palette: effect
		Position: TopLeft
		ValidRelationships: Ally
		RequiresCondition: commandoinside
	WithDecoration@CROSSHAIR:
		Image: pips
		Sequence: pip-sniper
		Palette: effect
		Position: TopLeft
		ValidRelationships: Ally
		RequiresCondition: sniperinside
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
	Sellable:
		RequiresCondition: unit.sellable && !loaded
    Capturable:
        RequiresCondition: !loaded
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
    RevealsShroudMultiplier@heroic:
        Modifier: 150
        RequiresCondition: rank-heroic
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

BTR:
	Inherits: ^TrackedVehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@TRANSPORT: ^Transport
	Valued:
		Cost: 500
	Tooltip:
		Name: Light Personnel Carrier
        GenericStancePrefix: false
        GenericName: Light APC
        GenericVisibility: Ally, Neutral, Enemy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildDuration: 900
        BuildDurationModifier: 100
		BuildPaletteOrder: 3
		Prerequisites: infantryproduction, ~vehicle.nod, ~player.nodb, ~techlevel.4
		Queue: Vehicle
		Description: Fast infantry transport.\nCan transport up to 5 Infantry.\n\nStrong vs Infantry.\nWeak vs Tanks.
	Mobile:
        Locomotor: wheeled-crusher
		TurnSpeed: 12
		Speed: 150
		PauseOnCondition: notmobile || emp-crate-collected || boarding
	Health:
		HP: 20000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	Armament:
		Weapon: MachineGun
		LocalOffset: 213,0,340
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
	Turreted:
		TurnSpeed: 12
	AttackTurreted:
        Voice: Attack
        PauseOnCondition: emp-crate-collected
	WithSpriteTurret:
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	Cargo:
		Types: Infantry
		MaxWeight: 5
		UnloadVoice: Unload
        LoadingCondition: notmobile
        LoadedCondition: loaded
		PassengerConditions:
			rmbo: commandoinside
            tany: commandoinside
            volk: commandoinside
            mega: commandoinside
            snip: sniperinside
	WithDecoration@COMMANDOSKULL:
		Image: pips
		Sequence: pip-skull
		Palette: effect
		Position: TopLeft
		ValidRelationships: Ally
		RequiresCondition: commandoinside
	WithDecoration@CROSSHAIR:
		Image: pips
		Sequence: pip-sniper
		Palette: effect
		Position: TopLeft
		ValidRelationships: Ally
		RequiresCondition: sniperinside
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
	Sellable:
		RequiresCondition: unit.sellable && !loaded
    Capturable:
        RequiresCondition: !loaded
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
    RevealsShroudMultiplier@heroic:
        Modifier: 150
        RequiresCondition: rank-heroic
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

LTNK:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetforTanks
	Valued:
		Cost: 600
	Tooltip:
		Name: Light Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 900
        BuildDurationModifier: 100
		BuildPaletteOrder: 5
		Prerequisites: afld, ~vehicle.nod, ~!player.bossnod, ~techlevel.3
		Queue: Vehicle
		Description: Fast, light tank.\n\nCannot attack Air units.\nStrong vs Tanks, Vehicles.\nWeak vs Infantry.
	Mobile:
        Locomotor: tracked-crusher
		TurnSpeed: 12
		Speed: 90
        PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 30000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 4c128
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 12
	Armament@PRIMARY:
        Name: primary
		Weapon: LightCannon
		Recoil: 85
		RecoilRecovery: 17
		LocalOffset: 720,0,90
		MuzzleSequence: muzzle
		PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
	Armament@SECONDARY:
        Name: secondary
		Weapon: MediumCannon
		Recoil: 128
		RecoilRecovery: 26
		LocalOffset: 720,0,90
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic
	Armament@TERTIARY:
        Name: tertiary
		Weapon: VehicleBazooka
        LocalOffset: 128,110,85
		FireDelay: 5
        PauseOnCondition: emp-crate-collected
	AttackTurreted:
        Armaments: primary, secondary, tertiary
        Voice: Attack
		PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	WithSpriteTurret:
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary, tertiary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

MTNK:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetforTanks
	Valued:
		Cost: 800
	Tooltip:
		Name: Main Battle Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 1350
        BuildDurationModifier: 100
		BuildPaletteOrder: 4
		Prerequisites: anyfix, ~vehicle.gdi, ~techlevel.4
		Queue: Vehicle
		Description: General-Purpose GDI Tank.\n\nStrong vs Tanks, Vehicles.\nWeak vs Infantry.
	Mobile:
        TurnSpeed: 12
        Locomotor: tracked-crusher
		Speed: 80
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c128
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 12
        Offset: 0,0,24
	Armament@PRIMARY:
        Name: primary
		Weapon: MediumCannon
		Recoil: 128
		RecoilRecovery: 26
		LocalOffset: 768,0,90
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
	Armament@SECONDARY:
        Name: secondary
		Weapon: VehicleM16
		LocalOffset: 85,128,85
		MuzzleSequence: muzzle2
        PauseOnCondition: emp-crate-collected
	AttackTurreted:
        Voice: Attack
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	WithSpriteTurret:
		Sequence: turret
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
	Selectable:
		DecorationBounds: 1194, 1194
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

FTNK:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 800
	Tooltip:
		Name: Flame Tank
	Buildable:
        BuildDuration: 1350
        BuildDurationModifier: 100
		BuildPaletteOrder: 7
		Prerequisites: anyfix, ~vehicle.nod, ~!player.noda, ~!player.nodc, ~!player.bossnod, ~techlevel.4
		Queue: Vehicle
		Description: Heavily armored flame-throwing vehicle.\n\nStrong vs Infantry, Buildings.\nWeak vs Tanks.
	Mobile:
        Locomotor: tracked-crusher
		TurnSpeed: 12
		Speed: 90
        PauseOnCondition: dont-move || emp-crate-collected || boarding
	Health:
		HP: 35000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c128
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Armament@PRIMARY:
        Name: primary
		Weapon: BigFlamer
		LocalOffset: 512,128,42, 512,-128,42
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
	Armament@SECONDARY:
        Name: secondary
		Weapon: FireballLauncherTank
		LocalOffset: 512,128,42, 512,-128,42
        PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic
	AttackFrontal:
        FacingTolerance: 0
        Voice: Attack
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	Explodes:
		Weapon: FlametankExplode
		EmptyWeapon: FlametankExplode
	GrantConditionOnAttack:
		Condition: dont-move
		RevokeDelay: 16
		RevokeOnNewTarget: False
		RevokeAll: True
    SpeedMultiplier@DONTTURN:
        Modifier: 0
        RequiresCondition: dont-move
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected || oncarryall
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

CHTK:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 1200
	Tooltip:
		Name: Chemical Tank
	Buildable:
    	BuildDuration: 1650
        BuildDurationModifier: 100
		BuildPaletteOrder: 7
		Prerequisites: bio, ~vehicle.nod, ~player.noda, ~techlevel.4
		Queue: Vehicle
		Description: Heavily armored chemicals-spraying vehicle.\n\nStrong vs all Ground units.
	Mobile:
        Locomotor: tracked-crusher
		TurnSpeed: 12
		Speed: 60
		PauseOnCondition: dont-move || emp-crate-collected || boarding
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c128
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Armament:
		Weapon: BigChemSpray
		LocalOffset: 512,128,42, 512,-128,42
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
	AttackFrontal:
        FacingTolerance: 0
        Voice: Attack
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	Explodes:
		Weapon: ChemtankExplode
		EmptyWeapon: ChemtankExplode
	GrantConditionOnAttack:
		Condition: dont-move
		RevokeDelay: 16
		RevokeOnNewTarget: False
		RevokeAll: True
    SpeedMultiplier@DONTTURN:
        Modifier: 0
        RequiresCondition: dont-move
	Selectable:
    	Bounds: 1280, 1280
		DecorationBounds: 1450, 1450, 0, -128
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected || oncarryall
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

HTNK:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetforTanks
	HitShape:
		Type: Circle
			Radius: 512
	Valued:
		Cost: 1500
	Tooltip:
		Name: Mammoth Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 2100
        BuildDurationModifier: 100
		BuildPaletteOrder: 6
		Prerequisites: miss, ~vehicle.gdi, ~!player.gdia, ~techlevel.6
		Queue: Vehicle
		Description: Heavily armored GDI Tank.\n\nSpecial: Self-repair\nRegenerates lost hitpoints\nwhen below half health.\n\nCan attack Aircraft.\nStrong vs Everything.
	Mobile:
		Locomotor: tracked-crusher
		Speed: 60
		TurnSpeed: 12
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	WithSpriteTurret:
	Turreted:
		TurnSpeed: 12
	Armament@PRIMARY:
		Weapon: MammothCannon
		LocalOffset: 900,180,340, 900,-180,340
		Recoil: 170
		RecoilRecovery: 42
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
	Armament@SECONDARY:
		Name: secondary
		Weapon: MammothTusk
		LocalOffset: -85,384,340, -85,-384,340
		LocalYaw: -100, 100
		Recoil: 10
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	AttackTurreted:
		Voice: Attack
        PauseOnCondition: emp-crate-collected
	WithMuzzleOverlay:
	ChangesHealth:
		Step: 500
		Delay: 25
		StartIfBelow: 51
		DamageCooldown: 150
        RequiresCondition: !rank-heroic && !emp-crate-collected && !in-transport && !oncarryall
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
	Selectable:
		Bounds: 1280, 1280
		DecorationBounds: 1450, 1450, 0, -128
	GpsDot:
		String: Heavy
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
    -ChangesHealth@RANK-HEROIC:
	ChangesHealth@RANK-HEROIC:
		Step: 500
		Delay: 25
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( rank-heroic || armoryrepair || mechanicrepair ) && !emp-crate-collected && !in-transport && !oncarryall
    -ChangesHealth@SELFREPAIR:
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal
	DetectCloaked:
        DetectionTypes: Stealth, Underground
		Range: 3c768
		RequiresCondition: !emp-crate-collected && rank-heroic
	RenderDetectionCircle:

WTNK:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetforTanks
	Selectable:
		DecorationBounds: 1194, 1194
	Valued:
		Cost: 1500
	Tooltip:
		Name: Microwave Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 2100
        BuildDurationModifier: 100
		BuildPaletteOrder: 6
		Prerequisites: miss, ~vehicle.nod, ~player.bossnod, ~techlevel.7
		Queue: Vehicle
		Description: Tank with heat based gun.\n\nSpecial: Jams Missiles\nDeflects incoming missiles\nwhen has ammo full.\n\nDisables Vehicle and Defenses.\nStrong versus Infantry.
	Mobile:
		Locomotor: tracked-crusher
		Speed: 60
		TurnSpeed: 12
        PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 45000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	WithSpriteTurret:
	Turreted:
		TurnSpeed: 12
	Armament:
        Name: primary
		Weapon: MicroWave
		FireDelay: 7
		LocalOffset: 500,0,140
		MuzzleSequence: muzzle
		PauseOnCondition: emp-crate-collected || !ammo
	Armament@Sound:
        Name: secondary
		Weapon: MicroWaveSound
		PauseOnCondition: emp-crate-collected || !ammo
    Armament@AIHelper:
        Name: tertiary
        Weapon: TargeterforWTNK
        PauseOnCondition: ammo || emp-crate-collected
	AttackMove:
		Voice: Attack
	AttackTurreted:
        Armaments: primary, secondary, tertiary
		TargetFrozenActors: True
		OpportunityFire: False
		Voice: Attack
        PauseOnCondition: emp-crate-collected
	WithMuzzleOverlay:
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
	JamsMissiles:
		Range: 3c0
		DeflectionRelationships: Neutral, Enemy
        RequiresCondition: ( ammo == 3 ) && !oncarryall
	WithRangeCircle@JAMMER:
		Type: jammer
		Range: 3c0
		Color: 0000FF80
        RequiresCondition: ( ammo == 3 ) && !oncarryall
 	AmmoPool:
        Name: primary
        Armaments: primary
		Ammo: 3
        InitialAmmo: 1
		AmmoCondition: ammo
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
        PipCount: 3
        AmmoPools: primary
        FullSequence: pip-yellow
		RequiresSelection: false
	ReloadAmmoPool:
		Delay: 132
		Count: 1
        PauseOnCondition: emp-crate-collected
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected || oncarryall
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

STNK:
	Inherits: ^Vehicle
	Inherits@UpgradeCrates: ^AcceptsUpgradeCrates
	Inherits@EMP: ^AcceptsEMPCrate
	Inherits@AUTOTARGET: ^AutoTargetforTanks
	-MustBeDestroyed:
	Valued:
		Cost: 900
	Tooltip:
		Name: Stealth Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 1500
        BuildDurationModifier: 100
		BuildPaletteOrder: 13
		Prerequisites: tmpl, ~vehicle.nod, ~!player.noda, ~!player.nodb, ~!player.bossnod, ~techlevel.7
		Queue: Vehicle
		Description: Medium-range missile tank.\n\nSpecial: Cloaking\nInvisible out of combat.\n\nCan attack Aircraft.\nStrong vs Vehicles, Tanks.\nWeak vs Infantry.
	Mobile:
		Locomotor: tracked-crusher
		TurnSpeed: 18
		Speed: 150
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 12000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 4c128
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Cloak:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 85
		CloakDelay: 85
		CloakSound: trans1.aud
		UncloakSound: trans1.aud
		Palette: cloak
		IsPlayerPalette: false
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || emp-crate-collected || oncarryall
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Turreted:
		TurnSpeed: 18
	Armament@PRIMARY:
        Name: primary
		Weapon: StnkRocketsAG
		LocalOffset: 213,43,128, 213,-43,128
		PauseOnCondition: emp-crate-collected
	Armament@SECONDARY:
        Name: secondary
		Weapon: StnkRocketsAA
		LocalOffset: 213,43,128, 213,-43,128
		PauseOnCondition: emp-crate-collected
	AttackTurreted:
        Armaments: primary, secondary
        Voice: Attack
		PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithSpriteTurret:
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: Defend
	Explodes:
		Weapon: UnitExplode
		EmptyWeapon: UnitExplode
    Targetable@Extra:
		TargetTypes: Tank
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal
    AppearsOnRadar:
        ValidRelationships: Ally
    -GpsDot:

ARTY:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 700
	Tooltip:
		Name: Artillery
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 1200
        BuildDurationModifier: 100
		BuildPaletteOrder: 9
		Prerequisites: anyhq, ~!vehicle.gdi, ~!vehicle.soviet, ~techlevel.5
		Queue: Vehicle
		Description: Long-range artillery.\n\nStrong vs Infantry and Buildings.
	Mobile:
        Locomotor: tracked-non-crusher
		TurnSpeed: 12
		Speed: 70
        PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 10000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
        MinRange: 3c0
	RevealsShroud@GAPGenerator:
		Range: 3c0
        RevealGeneratedShroud: True
	Armament@PRIMARY:
        Name: primary
		Weapon: ArtilleryShell
		LocalOffset: 624,0,208
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
	Armament@SECONDARY:
        Name: secondary
		Weapon: ArtilleryShell2
		LocalOffset: 624,0,208
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic
	AttackFrontal:
        Armaments: primary, secondary
		TargetFrozenActors: True
		ForceFireIgnoresActors: True
		Voice: Attack
		FacingTolerance: 0
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	AutoTarget:
		InitialStanceAI: Defend
	Explodes:
		Weapon: ArtyExplode
		EmptyWeapon: UnitExplode
	Passenger:
		CustomPipType: pip-yellow
	RenderRangeCircle:
	ReloadArmamentsBar:
		Armaments: primary, secondary
		Color: FFFF00
    Targetable@Extra:
		TargetTypes: Artillery
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

MRPG:
	Inherits: ^Vehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Valued:
		Cost: 700
	Tooltip:
		Name: Rocketed Propulsion Grenade Launcher
        GenericStancePrefix: false
        GenericName: RPG Launcher
        GenericVisibility: Ally, Neutral, Enemy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 1200
        BuildDurationModifier: 100
		BuildPaletteOrder: 8
		Prerequisites: anyhq, ~vehicle.gdi, ~player.gdic, ~techlevel.5
		Queue: Vehicle
		Description: Fast-firing artillery.\n\nStrong vs Buildings.\nWeak vs Infantry.
	Mobile:
    	Locomotor: tracked-non-crusher
		TurnSpeed: 12
		Speed: 90
		PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 10000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
        MinRange: 3c0
	RevealsShroud@GAPGenerator:
		Range: 3c0
        RevealGeneratedShroud: True
	Armament@PRIMARY:
        Name: primary
		Weapon: RPGLauncher
        LocalOffset: 43, 43, 256, 43, -43, 256
		LocalYaw: 100, -100
		PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
 	Armament@SECONDARY:
        Name: secondary
		Weapon: RPGLauncher2
        LocalOffset: 43, 43, 256, 43, -43, 256
		LocalYaw: 100, -100
		PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic
	AttackFrontal:
        Armaments: primary, secondary
		TargetFrozenActors: True
		ForceFireIgnoresActors: True 
        FacingTolerance: 0
        Voice: Attack
		PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	RenderRangeCircle:
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

MSAM:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 900
	Tooltip:
		Name: Multiple Launch Rocket System
        GenericStancePrefix: false
        GenericName: MLRS
        GenericVisibility: Ally, Neutral, Enemy        
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 1500
        BuildDurationModifier: 100
		BuildPaletteOrder: 8
		Prerequisites: eye, ~vehicle.gdi, ~!player.gdic, ~techlevel.7
		Queue: Vehicle
		Description: Long range rocket artillery.\n\nStrong vs all Ground units.
	Mobile:
		Speed: 90
		TurnSpeed: 12
        PauseOnCondition: aiming || emp-crate-collected || boarding
	Health:
		HP: 12000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 12
		Offset: -256,0,128
	Armament@PRIMARY:
        Name: primary
		Weapon: MLRSMissiles
		LocalOffset: 213,128,0, 213,-128,0
		PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
    Armament@SECONDARY:
        Name: secondary
		Weapon: MLRSMissiles2
		LocalOffset: 213,128,0, 213,-128,0
		PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic        
	AttackFrontal:
        Armaments: primary, secondary
        TargetFrozenActors: True
		ForceFireIgnoresActors: True
		Voice: Attack
		FacingTolerance: 0
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithSpriteTurret:
        Recoils: false
	Explodes:
		Weapon: MsamExplode
		EmptyWeapon: UnitExplodeSmall
	WithTurretAimAnimation:
		Sequence: aim
        RequiresCondition: aiming
    GrantConditionOnAttack:
		ArmamentNames: primary
    	Condition: aiming
		RevokeDelay: 32
    	RevokeAll: false
	ReloadArmamentsBar:
        Armaments: primary, secondary
        Color: FFFF00
	RenderRangeCircle:
    Targetable@Extra:
		TargetTypes: Artillery
	Passenger:
		CustomPipType: pip-yellow
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

MLRS:
	Inherits: ^TrackedVehicle
 	Inherits@Crates: ^AcceptsAllCrates   
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 1200
	Tooltip:
		Name: Surface-to-Surface Missile Launcher
        GenericStancePrefix: false
        GenericName: SSM Launcher
        GenericVisibility: Ally, Neutral, Enemy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 2100
        BuildDurationModifier: 100
		BuildPaletteOrder: 15
		Prerequisites: bio, ~vehicle.nod, ~!player.nodb, ~!player.nodc, ~!player.bossnod, ~techlevel.7
		Queue: Vehicle
		Description: Long-range missile artillery.\n\nStrong vs all Ground units.
	Mobile:
		Speed: 90
		TurnSpeed: 12
        PauseOnCondition: aiming || emp-crate-collected || boarding
	Health:
		HP: 12000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 12
		Offset: -128,0,128
		RealignDelay: 0
	Armament@PRIMARY:
        Name: primary
		Weapon: HonestJohn
        Recoil: 0
		LocalOffset: 0,-171,0, 0,171,0
        PauseOnCondition: !ammo || emp-crate-collected
        RequiresCondition: !rank-heroic
    Armament@SECONDARY:
        Name: secondary
		Weapon: HonestJohnChem
        Recoil: 0
		LocalOffset: 0,-171,0, 0,171,0
        PauseOnCondition: !ammo || emp-crate-collected
        RequiresCondition: rank-heroic
    Armament@AIHelper:
        Name: tertiary
        Weapon: TargeterforMLRS
        PauseOnCondition: ammo || emp-crate-collected
	AmmoPool:
        Armaments: primary, secondary
		Ammo: 2
		AmmoCondition: ammo
	AttackMove:
		Voice: Attack
	AttackFrontal:
        Armaments: primary, secondary, tertiary
		TargetFrozenActors: True
		ForceFireIgnoresActors: True
		Voice: Attack
		FacingTolerance: 0
        PauseOnCondition: emp-crate-collected
	GrantConditionOnAttack:
		Condition: aiming
		RevokeDelay: 51
		RevokeAll: false
	WithSpriteTurret:
		RequiresCondition: ammo > 1 && !rank-heroic
	WithSpriteTurret@OneMissile:
		RequiresCondition: ammo == 1 && !rank-heroic
		Sequence: turret1
	WithSpriteTurret@NoMissiles:
		RequiresCondition: !ammo && !rank-heroic
		Sequence: turret0
	WithSpriteTurret@Heroic:
		RequiresCondition: ammo > 1 && rank-heroic
        Sequence: turret4
	WithSpriteTurret@HeroicOneMissile:
		RequiresCondition: ammo == 1 && rank-heroic
		Sequence: turret3
	WithSpriteTurret@HeroicNoMissiles:
		RequiresCondition: !ammo && rank-heroic
		Sequence: turret2
	AutoTarget:
		InitialStanceAI: Defend
	RenderRangeCircle:
	ReloadAmmoPool:
		Delay: 200
		Count: 1
        PauseOnCondition: emp-crate-collected
    Targetable@Extra:
		TargetTypes: Artillery
	Passenger:
		CustomPipType: pip-yellow
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	Explodes:
		Weapon: MlrsExplode
        EmptyWeapon: UnitExplodeSmall
        RequiresCondition: !rank-heroic
	Explodes@2:
		Weapon: MlrsExplodeChem
        EmptyWeapon: UnitExplodeSmall
        RequiresCondition: rank-heroic
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

HOWI:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 1200
	Tooltip:
		Name: Howitzer
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 2100
        BuildDurationModifier: 100
		BuildPaletteOrder: 15
		Prerequisites: bio, ~vehicle.nod, ~player.nodb, ~techlevel.7
		Queue: Vehicle
		Description: Long-range artillery.\n\nStrong vs all Ground units.
	Mobile:
        Locomotor: wheeled-non-crusher
		TurnSpeed: 12
		Speed: 100
        PauseOnCondition: emp-crate-collected || boarding
	Health:
		HP: 12000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	Turreted:
		TurnSpeed: 12
		Offset: -150,0,24
	Armament@PRIMARY:
        Name: primary
		Weapon: HowitzerShell
		LocalOffset: 924,0,258
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: !rank-heroic
	Armament@SECONDARY:
        Name: secondary
		Weapon: HowitzerShellChem
		LocalOffset: 924,0,258
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected
        RequiresCondition: rank-heroic
	AttackTurreted:
        Armaments: primary, secondary
		TargetFrozenActors: True
		ForceFireIgnoresActors: True
		Voice: Attack
        PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithMuzzleOverlay:
	WithSpriteTurret:
	AutoTarget:
		InitialStanceAI: Defend
	Explodes:
		Weapon: ArtyExplode
		EmptyWeapon: UnitExplode
	Passenger:
		CustomPipType: pip-yellow
	RenderRangeCircle:
	ReloadArmamentsBar:
		Armaments: primary
		Color: FFFF00
    Targetable@Extra:
		TargetTypes: Artillery
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

MHQ:
	Inherits: ^Vehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:    
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:    
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
	ChangesHealth@SELFREPAIR:
		Step: 500
		Delay: 100
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( armoryrepair || mechanicrepair ) && !( in-transport || parachute || oncarryall || emp-crate-collected )
	Valued:
		Cost: 600
	Tooltip:
		Name: Mobile Jammer
	Health:
		HP: 12000
	Armor:
		Type: Medium
	Mobile:
        Locomotor: tracked-non-crusher
		Speed: 90
		PauseOnCondition: emp-crate-collected || boarding
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	WithIdleOverlay@SPINNER:
		Sequence: spinner
		Offset: -256,0,256
        PauseOnCondition: emp-crate-collected
	DetectCloaked:
        DetectionTypes: Stealth, Underground
		Range: 3c768
		RequiresCondition: !emp-crate-collected
    DetectCloakedMultiplier@GAPGenerator:
        Modifier: 50
        RequiresCondition: within-gap-radius
	ExternalCondition@GAPGenerator:
		Condition: within-gap-radius
	RenderDetectionCircle:
	Buildable:
        BuildDuration: 900
        BuildDurationModifier: 100
		BuildPaletteOrder: 12
		Prerequisites: eye, ~vehicle.gdi, ~techlevel.7
		Queue: Vehicle
		Description: Can detect cloaked units and mines.\nJams enemy communications.\n\nStrong vs Infantry.
	Turreted:
		TurnSpeed: 12
		Offset: 246,-60,112
	Armament:
		Weapon: VehicleM16
		MuzzleSequence: muzzle
		LocalOffset: 128,0,43
		PauseOnCondition: emp-crate-collected
	AttackFrontal:
		FacingTolerance: 0
		PauseOnCondition: emp-crate-collected
	AttackMove:
		Voice: Attack
	WithSpriteTurret:
	WithMuzzleOverlay:
	ProximityExternalCondition@JAMMER:
		Range: 15c256
		ValidRelationships: Enemy, Neutral
		Condition: jammed
        RequiresCondition: !emp-crate-collected
	WithRangeCircle@JAMMER:
		Type: jammer
		Range: 15c256
		Color: 0000FF80
        RequiresCondition: !emp-crate-collected
    Targetable@Extra:
		TargetTypes: Tank
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected
		RequiresCondition: cloakfield-on
	RevealOnFire:
		ArmamentNames: primary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal

MHON:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableSupportUnit
	Inherits@Speed: ^AcceptsSpeedCrate
	Inherits@Invuln: ^AcceptsInvulnerabilityCrate
	Inherits@EMP: ^AcceptsEMPCrate
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
	ChangesHealth@SELFREPAIR:
		Step: 500
		Delay: 100
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( armoryrepair || mechanicrepair ) && !( in-transport || parachute || oncarryall )
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability-crate-collected
	Valued:
		Cost: 700
	Tooltip:
		Name: Fist of Nod
	Buildable:
		BuildDuration: 950
        BuildDurationModifier: 100
		BuildPaletteOrder: 9
        Prerequisites: anyfix, ~vehicle.nod, ~player.nodb,  ~techlevel.5
		Queue: Vehicle
		Description: Mobile infantry barracks.\nDeploys into a Fist of Nod.\n\nUnarmed.
	Mobile:
        TurnSpeed: 12
		Speed: 60
		Locomotor: tracked-crusher
        PauseOnCondition: emp-crate-collected || boarding
 	Health:
		HP: 60000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Transforms:
        PauseOnCondition: cant-undeploy || emp-crate-collected
		IntoActor: fist
		Offset: 0,-1
		Facing: 432
		TransformSounds: constru2.aud, hvydoor1.aud
		NoTransformNotification: BuildingCannotPlaceAudio
		NoTransformTextNotification: Cannot deploy here.
		Voice: Unload
	GrantConditionOnDamageState@undeploy:
		Condition: cant-undeploy
		ValidDamageStates: Heavy, Critical
	MustBeDestroyed:
		RequiredForShortGame: true
	RenderSprites:
		Image: mhon
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || oncarryall
		RequiresCondition: cloakfield-on
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
    Passenger:

MWF:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableSupportUnit
	Inherits@Speed: ^AcceptsSpeedCrate
	Inherits@Invuln: ^AcceptsInvulnerabilityCrate
	Inherits@EMP: ^AcceptsEMPCrate
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
	ChangesHealth@SELFREPAIR:
		Step: 500
		Delay: 100
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( armoryrepair || mechanicrepair ) && !( in-transport || parachute || oncarryall )
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability-crate-collected
	Valued:
		Cost: 1500
	Tooltip:
		Name: Mobile Factory
	Buildable:
		BuildDuration: 2100
        BuildDurationModifier: 100
		BuildPaletteOrder: 9
        Prerequisites: anyfix, ~vehicle.gdi, ~player.bossgdi,  ~techlevel.5
		Queue: Vehicle
		Description: Mobile vehicle production.\nDeploys into a Light Weapons Factory.\n\nUnarmed.
	Mobile:
        TurnSpeed: 12
		Speed: 60
		Locomotor: tracked-amphibian
        PauseOnCondition: emp-crate-collected || boarding
 	Health:
		HP: 60000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 3c512
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	Transforms:
        PauseOnCondition: cant-undeploy || emp-crate-collected
		IntoActor: mwfb
		Offset: -1,-1
		Facing: 432
		TransformSounds: constru2.aud, hvydoor1.aud
		NoTransformNotification: BuildingCannotPlaceAudio
		NoTransformTextNotification: Cannot deploy here.
		Voice: Unload
	GrantConditionOnDamageState@undeploy:
		Condition: cant-undeploy
		ValidDamageStates: Heavy, Critical
	MustBeDestroyed:
		RequiredForShortGame: true
	WithFacingSpriteBody:
		RequiresCondition: !onwater
	WithFacingSpriteBody@WATER:
		Sequence: idle-water
		Name: body-water
		RequiresCondition: onwater
	GrantConditionOnTerrain:
		TerrainTypes: Water
		Condition: onwater
	RenderSprites:
		Image: mwf
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Move, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || oncarryall
		RequiresCondition: cloakfield-on
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
    Passenger:

MSG:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableSupportUnit
	Inherits@Speed: ^AcceptsSpeedCrate
	Inherits@Invuln: ^AcceptsInvulnerabilityCrate
	Inherits@EMP: ^AcceptsEMPCrate
    -GainsExperience:
    -FirepowerMultiplier@RANK-VETERAN:
    -ReloadDelayMultiplier@RANK-VETERAN:
    -SpeedMultiplier@RANK-VETERAN:
    -DamageMultiplier@RANK-VETERAN:
    -FirepowerMultiplier@RANK-ELITE:
    -ReloadDelayMultiplier@RANK-ELITE:
    -SpeedMultiplier@RANK-ELITE:
    -DamageMultiplier@RANK-ELITE:
    -FirepowerMultiplier@RANK-HEROIC:
    -ReloadDelayMultiplier@RANK-HEROIC:
    -SpeedMultiplier@RANK-HEROIC:
    -DamageMultiplier@RANK-HEROIC:
    -ChangesHealth@RANK-HEROIC:
    -GivesExperienceMultiplier@RANK-HEROIC:
    -WithDecoration@RANK-VETERAN:
    -WithDecoration@RANK-ELITE:
    -WithDecoration@RANK-HEROIC:    
    -GainsExperienceMultiplier@EXPTOGGLE2:
    -GrantConditionOnPrerequisite@EXPTOGGLE2:
    -ProducibleWithLevel:
    -WithProductionIconOverlay:
	ChangesHealth@SELFREPAIR:
		Step: 500
		Delay: 100
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: ( armoryrepair || mechanicrepair ) && !( in-transport || parachute || oncarryall || emp-crate-collected )
	Selectable:
		DecorationBounds: 1450, 1450, 0, -128
	Valued:
		Cost: 800
	Tooltip:
		Name: Mobile Stealth Generator
	Buildable:
        BuildDuration: 1350
        BuildDurationModifier: 100
		BuildPaletteOrder: 15
		Prerequisites: sgen, ~vehicle.nod, ~player.bossnod, ~techlevel.7
		Queue: Vehicle
		Description: Cloaks all units nearby when deployed.\nThe units need to remain stationary,\nand out of combat to be cloaked.\n\nUnarmed.
	Health:
		HP: 10000
	Armor:
		Type: Light
	Mobile:
        Locomotor: wheeled-non-crusher
        TurnSpeed: 12
		Speed: 80
        PauseOnCondition: emp-crate-collected || boarding
	RevealsShroud:
		Range: 4c128
		RevealGeneratedShroud: False
        MinRange: 2c0
	RevealsShroud@GAPGenerator:
		Range: 2c0
        RevealGeneratedShroud: True
	GrantCondition@PREVIEWWORKAROUND:
		Condition: real-actor
	WithMakeAnimation:
		BodyNames: deployedbody
	WithSpriteBody@deployed:
		Sequence: idle-deployed
		RequiresCondition: !undeployed && real-actor
		Name: deployedbody
	WithFacingSpriteBody:
		RequiresCondition: undeployed || !real-actor
	GrantConditionOnDeploy:
		PauseOnCondition: emp-crate-collected
        DeployedCondition: deployed
        UndeployedCondition: undeployed
		SkipMakeAnimation: false
		Facing: 368
		AllowedTerrainTypes: Clear, Road, Rough, Tiberium, BlueTiberium, RedTiberium
		DeploySounds: placbldg.aud
		UndeploySounds: clicky1.aud
		UndeployOnMove: true
        DeployCursor: deploy-blue
        DeployBlockedCursor: deploy-blocked-blue
	ProximityExternalCondition@StealthGenerator:
		Condition: cloakfield-on
		ValidRelationships: Ally
		Range: 6c0
        RequiresCondition: !emp-crate-collected && deployed && !lowpower
	DetectCloaked@RadialIndicator:
        DetectionTypes: Nonsense
		Range: 6c0
        RequiresCondition: deployed && !lowpower
	RenderDetectionCircle@RadialIndicator:
        TrailCount: 2
        Visible: Always
        UpdateLineTick: 6
        BorderWidth: 0
        Color: 8b008b
	Power:
		Amount: -15
        RequiresCondition: !emp-crate-collected && !deployed
    PowerMultiplier@deployed:
        Modifier: 200
        RequiresCondition: !emp-crate-collected && deployed
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical

T55H:
	Inherits: ^TrackedVehicle
	Inherits@Crates: ^AcceptsAllCrates
	Inherits@AUTOTARGET: ^AutoTargetforTanks
	Valued:
		Cost: 2500
	Tooltip:
		Name: Scorpion Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
        BuildDuration: 3900
        BuildDurationModifier: 100
		BuildPaletteOrder: 12
		BuildLimit: 1
		Prerequisites: ncom, ~vehicle.nod, ~player.bossnod, ~techlevel.7
		Queue: Vehicle
		Description: Maximum one can be built.\n\nExperimental modified tank.\n\nSpecial: Self-repair\nRegenerates lost hitpoints\nwhen below half health.\n\nScorpion tail shoots Laser.\nStrong vs Everything.
	Mobile:
		Locomotor: tracked-crusher
		Speed: 60
		TurnSpeed: 12
        PauseOnCondition: emp-crate-collected || pauseforlaser || boarding
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 5c128
		RevealGeneratedShroud: False
        MinRange: 2c512
	RevealsShroud@GAPGenerator:
		Range: 2c512
        RevealGeneratedShroud: True
	WithSpriteTurret:
	Turreted:
		TurnSpeed: 12
	Armament@Primary:
        Name: primary
		Weapon: MammothCannon
		LocalOffset: 821,85,171, 821,-85,171
		Recoil: 170
		RecoilRecovery: 42
		MuzzleSequence: muzzle
        PauseOnCondition: emp-crate-collected || ammoready
		#	pausing on Laser firing to account for the below
		#	issue somehwat as otherwise Laser can end up
		#	going across the screen if both actors move away
	Armament@Secondary:
		Name: secondary
		#	Ignores max range because LaserZap projectile 
		#	doesnt have a RangeLimit field at all
		Weapon: TankLaser
		LocalOffset: -326,0,560
		FireDelay: 90
		MuzzlePalette: player-static
        PauseOnCondition: emp-crate-collected || !ammoready
	Armament@Tertiary:
		Name: tertiary
		Weapon: TankLaserFiringGFX
		LocalOffset: -326,0,560
		FireDelay: 20
		MuzzleSequence: laser-muzzle
		MuzzlePalette: player-static
		PauseOnCondition: emp-crate-collected || !ammoready || !pointinglazer
	Armament@Quartenary:
		Name: quartenary
		Weapon: TankLaserFiringSFX
		LocalOffset: -326,0,560
		PauseOnCondition: emp-crate-collected || !ammoready || !pointinglazer
	GrantConditionWhileAiming:
		Condition: pointinglazer
	GrantCondition@momentaryimmobilize:
		Condition: pauseforlaser
		RequiresCondition: ammoready && pointinglazer
    #   this is band-aid to prevent cancel attack order then move while charge-up
	RejectsOrders:
		RequiresCondition: emp-crate-collected || pauseforlaser
	AttackMove:
		Voice: Attack
	AttackTurreted:
		Voice: Attack
        Armaments: primary, secondary, tertiary, quartenary
        PauseOnCondition: emp-crate-collected
	AmmoPool:
		Name: lasercharge
		Armaments: secondary
		Ammo: 1
		AmmoCondition: ammoready
	ReloadAmmoPool:
		AmmoPool: lasercharge
		Delay: 400
		Count: 1
		PauseOnCondition: emp-crate-collected
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		PipCount: 1
		FullSequence: pip-red
		RequiresSelection: true
		AmmoPools: lasercharge
	WithMuzzleOverlay:
	ChangesHealth:
		Step: 500
		Delay: 25
		StartIfBelow: 51
		DamageCooldown: 150
        RequiresCondition: !rank-heroic && !emp-crate-collected && !in-transport && !oncarryall
	Explodes:
		Weapon: UnitExplodeBig
		EmptyWeapon: UnitExplodeBig
	Selectable:
		DecorationBounds: 1450, 1450, 0, -128
	GpsDot:
		String: Heavy
    ExternalCondition@CloakingField:
        Condition: cloakfield-on
	Cloak@CloakingField:
        CloakType: Stealth
        DetectionTypes: Stealth
		InitialDelay: 90
		CloakDelay: 90
		UncloakSound: cloak5.aud
		Palette: cloaktransparent
		IsPlayerPalette: true
		UncloakOn: Attack, Unload, Dock, Damage, Heal
		PauseOnCondition: cloak-force-disabled || cloak-crate-collected || oncarryall
		RequiresCondition: cloakfield-on
    -ChangesHealth@RANK-HEROIC:
	ChangesHealth@RANK-HEROIC:
		Step: 530
		Delay: 25
		StartIfBelow: 100
		DamageCooldown: 125
		RequiresCondition: rank-heroic && !emp-crate-collected && !in-transport && !oncarryall
	RevealOnFire:
		ArmamentNames: primary, secondary
        RevealForRelationships: Ally, Neutral, Enemy
        RevealGeneratedShroud: false
        RequiresCondition: reveal-on
    GrantConditionOnPrerequisite@REVEALTOGGLE:
        Condition: reveal-on
        Prerequisites: ~global-unitreveal
